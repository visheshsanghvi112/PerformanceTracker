2025-07-21 15:47:13,937 - INFO - Bot is starting...
2025-07-21 16:04:26,115 - INFO - Bot is starting...
2025-08-26 15:44:26,211 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-26 15:44:26,211 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-26 15:44:26,221 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-26 15:44:26,221 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-26 15:44:26,221 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-26 15:44:26,221 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 medicines to Apollo Pharmacy for ₹15000'
2025-08-26 15:44:26,221 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-08-26 15:44:26,221 | DEBUG    | process_input       :67   | 🔍 Processing input: 'asdfghjkl'
2025-08-26 15:44:26,221 | DEBUG    | process_input       :73   | ❌ Input failed validation: gibberish_detected
2025-08-26 15:44:26,221 | DEBUG    | process_input       :67   | 🔍 Processing input: 'hello how are you'
2025-08-26 15:44:26,221 | DEBUG    | process_input       :73   | ❌ Input failed validation: casual_conversation
2025-08-26 15:44:28,751 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-08-26 15:44:29,533 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-08-26 15:44:29,533 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-26 15:44:30,181 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-26 15:44:30,181 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-08-26 15:44:33,601 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-08-26 15:44:34,061 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-08-26 15:44:34,062 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-08-26 15:44:34,514 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-08-26 15:44:34,971 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-08-26 15:44:35,431 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-08-26 15:44:35,911 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-08-26 15:44:35,924 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-08-26 15:44:37,361 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-08-26 15:44:37,371 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 medicines to Apollo Pharmacy for ₹15000'
2025-08-26 15:44:37,371 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-08-26 16:12:19,764 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-26 16:12:19,764 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-26 16:12:19,764 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-26 16:12:19,764 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-26 16:12:19,764 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-08-26 16:12:19,764 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-26 16:12:19,764 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 tablets to Apollo for ₹25000'
2025-08-26 16:12:19,764 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-08-26 16:12:19,764 | DEBUG    | process_input       :67   | 🔍 Processing input: 'asdfghjkl'
2025-08-26 16:12:19,764 | DEBUG    | process_input       :73   | ❌ Input failed validation: gibberish_detected
2025-08-26 16:12:19,764 | DEBUG    | process_input       :67   | 🔍 Processing input: 'hello how are you'
2025-08-26 16:12:19,764 | DEBUG    | process_input       :73   | ❌ Input failed validation: casual_conversation
2025-08-26 16:12:19,764 | DEBUG    | get_fallback_response:159  | 🔄 Generating fallback response for: 'some unclear text...'
2025-08-26 16:12:22,614 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-08-26 16:12:22,614 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-26 16:12:23,194 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-26 16:12:23,204 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-08-26 16:12:25,945 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-08-26 16:12:26,354 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-08-26 16:12:26,354 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-08-26 16:12:26,744 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-08-26 16:12:27,124 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-08-26 16:12:27,514 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-08-26 16:12:27,894 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-08-26 16:12:27,899 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-08-26 16:12:27,908 | INFO     | store_location      :49   | 📍 Location stored for user test_user in company test_company
2025-08-26 16:12:27,908 | INFO     | get_location        :68   | 📍 Location data expired for user test_user
2025-08-26 16:12:27,909 | INFO     | clear_location      :96   | 📍 Location cleared for user test_user in company test_company
2025-08-26 16:12:29,114 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-08-26 16:12:31,334 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-08-26 17:02:55,533 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-26 17:02:55,533 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-26 17:02:55,533 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-26 17:02:55,533 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-26 17:02:55,533 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-26 17:02:55,550 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-08-26 17:02:55,550 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-26 17:02:56,377 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-26 17:02:56,384 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-08-26 17:02:59,247 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-08-26 17:02:59,626 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-08-26 17:02:59,626 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-08-26 17:03:00,005 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-08-26 17:03:00,365 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-08-26 17:03:00,734 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-08-26 17:03:01,116 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-08-26 17:03:01,116 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-08-26 17:03:01,127 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-08-26 17:03:01,129 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-26 17:03:01,130 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-26 17:03:01,132 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-08-26 17:03:01,134 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-26 17:03:01,134 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-26 17:03:01,134 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-08-26 17:03:01,139 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company change'
2025-08-26 17:03:01,139 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company switch'
2025-08-26 17:03:01,139 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'select company'
2025-08-26 17:03:01,139 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'another company'
2025-08-26 17:03:01,143 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'new company'
2025-08-26 17:03:01,143 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-08-26 17:03:01,156 | WARNING  | safe_format_revenue :48   | ⚠️ Could not format revenue 'invalid': could not convert string to float: 'invalid'
2025-08-26 17:03:01,167 | WARNING  | get_company_stats   :269  | ⚠️ Could not convert amount 'invalid' to number: could not convert string to float: 'invalid'
2025-08-26 17:03:01,174 | INFO     | get_company_stats   :298  | 📈 Stats for test_company: {'total_records': 5, 'total_users': 4, 'total_revenue': 75000.5, 'date_range': '2025-01-22 to 2025-01-25'}
2025-08-26 17:03:01,177 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: None
2025-08-26 17:03:01,178 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: invalid
2025-08-26 17:03:01,179 | ERROR    | switch_user_company :156  | ❌ Invalid company: None
2025-08-26 17:03:01,179 | ERROR    | switch_user_company :163  | ❌ User 123456 not registered
2025-08-26 17:03:01,180 | ERROR    | switch_user_company :156  | ❌ Invalid company: 
2025-08-26 17:03:01,183 | ERROR    | get_company_stats   :302  | ❌ Failed to get stats for test_company: API Error
2025-08-26 17:03:01,183 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-26 17:03:01,183 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-08-26 17:03:01,183 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-08-26 17:03:01,183 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company change'
2025-08-26 17:56:41,960 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-26 17:56:41,961 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-26 17:56:41,961 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-26 17:56:41,961 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-26 17:56:41,963 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-08-26 17:56:41,963 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-26 17:56:42,756 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-26 17:56:42,761 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-08-26 17:56:45,802 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-08-26 17:56:46,233 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-08-26 17:56:46,234 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-08-26 17:56:46,650 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-08-26 17:56:47,067 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-08-26 17:56:47,479 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-08-26 17:56:47,853 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-08-26 17:56:48,324 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from johnlee sheet
2025-08-26 17:56:48,324 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.466 seconds
2025-08-26 17:56:48,324 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.466 seconds
2025-08-26 17:56:48,761 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-08-26 17:56:48,761 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.431 seconds
2025-08-26 17:56:48,762 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.432 seconds
2025-08-26 17:56:49,215 | INFO     | get_company_records :177  | 📊 Retrieved 0 records from ambica sheet
2025-08-26 17:56:49,216 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.453 seconds
2025-08-26 17:56:49,217 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.453 seconds
2025-08-26 17:56:49,661 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from baker sheet
2025-08-26 17:56:49,662 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.442 seconds
2025-08-26 17:56:49,662 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.443 seconds
2025-08-26 17:56:49,664 | INFO     | add_live_position_column_to_all_sheets:89   | 📊 Adding Live_Position column to 4 company sheets...
2025-08-26 17:56:49,664 | INFO     | add_live_position_column_to_all_sheets:96   | 🔄 Processing 🏪 JohnLee (johnlee)...
2025-08-26 17:56:49,665 | INFO     | add_live_position_column_to_sheet:41   | 📊 Adding Live_Position column to johnlee sheet...
2025-08-26 17:56:50,109 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from johnlee sheet
2025-08-26 17:56:50,109 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.443 seconds
2025-08-26 17:56:50,109 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.443 seconds
2025-08-26 17:56:50,110 | INFO     | add_live_position_column_to_sheet:52   | ✅ Live_Position column already exists in johnlee sheet
2025-08-26 17:56:50,110 | INFO     | add_live_position_column_to_all_sheets:102  | ✅ 🏪 JohnLee: Live_Position column added successfully
2025-08-26 17:56:50,111 | INFO     | add_live_position_column_to_all_sheets:96   | 🔄 Processing 💊 Yugrow Pharmacy (yugrow)...
2025-08-26 17:56:50,111 | INFO     | add_live_position_column_to_sheet:41   | 📊 Adding Live_Position column to yugrow sheet...
2025-08-26 17:56:50,522 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-08-26 17:56:50,535 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.410 seconds
2025-08-26 17:56:50,536 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.423 seconds
2025-08-26 17:56:50,537 | INFO     | add_live_position_column_to_sheet:52   | ✅ Live_Position column already exists in yugrow sheet
2025-08-26 17:56:50,538 | INFO     | add_live_position_column_to_all_sheets:102  | ✅ 💊 Yugrow Pharmacy: Live_Position column added successfully
2025-08-26 17:56:50,539 | INFO     | add_live_position_column_to_all_sheets:96   | 🔄 Processing 🏥 Ambica Pharma (ambica)...
2025-08-26 17:56:50,540 | INFO     | add_live_position_column_to_sheet:41   | 📊 Adding Live_Position column to ambica sheet...
2025-08-26 17:56:50,963 | INFO     | get_company_records :177  | 📊 Retrieved 0 records from ambica sheet
2025-08-26 17:56:50,965 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.424 seconds
2025-08-26 17:56:50,966 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.425 seconds
2025-08-26 17:56:50,967 | ERROR    | add_live_position_column_to_sheet:74   | ❌ Error adding Live_Position column to ambica: 'MultiCompanySheetManager' object has no attribute 'get_worksheet'
2025-08-26 17:56:50,968 | ERROR    | add_live_position_column_to_all_sheets:104  | ❌ 🏥 Ambica Pharma: Failed to add Live_Position column
2025-08-26 17:56:50,970 | INFO     | add_live_position_column_to_all_sheets:96   | 🔄 Processing 🏢 Baker and Davis (baker)...
2025-08-26 17:56:50,972 | INFO     | add_live_position_column_to_sheet:41   | 📊 Adding Live_Position column to baker sheet...
2025-08-26 17:56:51,397 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from baker sheet
2025-08-26 17:56:51,397 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.424 seconds
2025-08-26 17:56:51,397 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.424 seconds
2025-08-26 17:56:51,398 | INFO     | add_live_position_column_to_sheet:52   | ✅ Live_Position column already exists in baker sheet
2025-08-26 17:56:51,398 | INFO     | add_live_position_column_to_all_sheets:102  | ✅ 🏢 Baker and Davis: Live_Position column added successfully
2025-08-26 17:56:51,399 | INFO     | verify_live_position_columns:123  | 🔍 Verifying Live_Position columns in 4 company sheets...
2025-08-26 17:56:51,815 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from johnlee sheet
2025-08-26 17:56:51,815 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.416 seconds
2025-08-26 17:56:51,816 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.417 seconds
2025-08-26 17:56:51,817 | INFO     | verify_live_position_columns:135  | ✅ 🏪 JohnLee: Live_Position column verified
2025-08-26 17:56:52,219 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-08-26 17:56:52,221 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.402 seconds
2025-08-26 17:56:52,222 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.403 seconds
2025-08-26 17:56:52,223 | INFO     | verify_live_position_columns:135  | ✅ 💊 Yugrow Pharmacy: Live_Position column verified
2025-08-26 17:56:52,673 | INFO     | get_company_records :177  | 📊 Retrieved 0 records from ambica sheet
2025-08-26 17:56:52,675 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.450 seconds
2025-08-26 17:56:52,676 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.451 seconds
2025-08-26 17:56:52,677 | WARNING  | verify_live_position_columns:137  | ❌ 🏥 Ambica Pharma: Live_Position column missing
2025-08-26 17:56:53,103 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from baker sheet
2025-08-26 17:56:53,103 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.425 seconds
2025-08-26 17:56:53,103 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.425 seconds
2025-08-26 17:56:53,103 | INFO     | verify_live_position_columns:135  | ✅ 🏢 Baker and Davis: Live_Position column verified
2025-08-26 17:56:53,549 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from johnlee sheet
2025-08-26 17:56:53,554 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.435 seconds
2025-08-26 17:56:53,554 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.436 seconds
2025-08-26 17:56:54,008 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-08-26 17:56:54,009 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.449 seconds
2025-08-26 17:56:54,010 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.451 seconds
2025-08-26 17:56:54,454 | INFO     | get_company_records :177  | 📊 Retrieved 0 records from ambica sheet
2025-08-26 17:56:54,455 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.442 seconds
2025-08-26 17:56:54,456 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.443 seconds
2025-08-26 17:56:54,883 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from baker sheet
2025-08-26 17:56:54,884 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.425 seconds
2025-08-26 17:56:54,884 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.425 seconds
2025-08-30 17:48:21,117 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:48:21,117 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:48:21,118 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:48:21,118 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:48:21,118 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-08-30 17:48:21,123 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-30 17:48:21,123 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 tablets to Apollo for ₹25000'
2025-08-30 17:48:21,125 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-08-30 17:48:21,125 | DEBUG    | process_input       :67   | 🔍 Processing input: 'asdfghjkl'
2025-08-30 17:48:21,125 | DEBUG    | process_input       :73   | ❌ Input failed validation: gibberish_detected
2025-08-30 17:48:21,125 | DEBUG    | process_input       :67   | 🔍 Processing input: 'hello how are you'
2025-08-30 17:48:21,126 | DEBUG    | process_input       :73   | ❌ Input failed validation: casual_conversation
2025-08-30 17:48:21,126 | DEBUG    | get_fallback_response:159  | 🔄 Generating fallback response for: 'some unclear text...'
2025-08-30 17:48:24,438 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:48:24,439 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-30 17:48:25,290 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-30 17:48:25,291 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-08-30 17:48:27,052 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-08-30 17:48:27,544 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:48:27,544 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:48:27,544 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:48:27,545 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:48:27,546 | INFO     | store_location      :49   | 📍 Location stored for user 1201911108 in company johnlee
2025-08-30 17:48:27,667 | INFO     | get_location_info   :170  | 🌍 Getting location info for (18.947974, 72.829952)
2025-08-30 17:48:27,668 | DEBUG    | reverse_geocode     :58   | 🌍 Geocoding attempt 1 for (18.947974, 72.829952)
2025-08-30 17:48:28,614 | INFO     | reverse_geocode     :71   | 🌍 Geocoding successful: Kalbadevi, Mumbai City
2025-08-30 17:48:29,138 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:48:29,139 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-30 17:48:29,980 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-30 17:48:31,147 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-30 17:48:31,148 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-08-30 17:48:31,149 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-08-30 17:48:33,108 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:48:33,108 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:48:33,109 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:48:33,109 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:48:33,109 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-30 17:48:33,118 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:48:33,118 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-30 17:48:33,530 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-30 17:48:33,531 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-08-30 17:48:33,532 | WARNING  | safe_format_revenue :48   | ⚠️ Could not format revenue 'invalid': could not convert string to float: 'invalid'
2025-08-30 17:48:33,539 | WARNING  | get_company_stats   :269  | ⚠️ Could not convert amount 'invalid' to number: could not convert string to float: 'invalid'
2025-08-30 17:48:33,541 | INFO     | get_company_stats   :298  | 📈 Stats for test_company: {'total_records': 5, 'total_users': 4, 'total_revenue': 75000.5, 'date_range': '2025-01-22 to 2025-01-25'}
2025-08-30 17:48:33,542 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: None
2025-08-30 17:48:33,542 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: invalid
2025-08-30 17:48:33,543 | ERROR    | switch_user_company :156  | ❌ Invalid company: None
2025-08-30 17:48:33,543 | ERROR    | switch_user_company :163  | ❌ User 123456 not registered
2025-08-30 17:48:33,543 | ERROR    | switch_user_company :156  | ❌ Invalid company: 
2025-08-30 17:48:33,544 | ERROR    | get_company_stats   :302  | ❌ Failed to get stats for test_company: API Error
2025-08-30 17:50:50,251 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:50:50,252 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:50:50,252 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:50:50,253 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:50:50,253 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-08-30 17:50:50,255 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-30 17:50:50,255 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 tablets to Apollo for ₹25000'
2025-08-30 17:50:50,256 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-08-30 17:50:50,256 | DEBUG    | process_input       :67   | 🔍 Processing input: 'asdfghjkl'
2025-08-30 17:50:50,256 | DEBUG    | process_input       :73   | ❌ Input failed validation: gibberish_detected
2025-08-30 17:50:50,256 | DEBUG    | process_input       :67   | 🔍 Processing input: 'hello how are you'
2025-08-30 17:50:50,256 | DEBUG    | process_input       :73   | ❌ Input failed validation: casual_conversation
2025-08-30 17:50:50,257 | DEBUG    | get_fallback_response:159  | 🔄 Generating fallback response for: 'some unclear text...'
2025-08-30 17:50:52,347 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:50:52,347 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-30 17:50:52,681 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-30 17:50:52,682 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-08-30 17:50:52,688 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-08-30 17:50:52,697 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-08-30 17:50:52,698 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-08-30 17:50:52,698 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-08-30 17:50:52,698 | INFO     | process_data_chunks :79   | ⚡ Processing 20 items in 4 chunks
2025-08-30 17:50:52,700 | INFO     | process_data_chunks :93   | ⚡ Chunk processing completed: 20 results
2025-08-30 17:50:52,702 | INFO     | store_location      :49   | 📍 Location stored for user test_user in company test_company
2025-08-30 17:50:52,703 | INFO     | get_location        :68   | 📍 Location data expired for user test_user
2025-08-30 17:50:52,704 | INFO     | clear_location      :96   | 📍 Location cleared for user test_user in company test_company
2025-08-30 17:50:53,537 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-08-30 17:50:53,555 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-08-30 17:50:53,724 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-08-30 17:50:54,026 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:50:54,026 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:50:54,026 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:50:54,026 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:50:54,027 | INFO     | store_location      :49   | 📍 Location stored for user 1201911108 in company johnlee
2025-08-30 17:50:54,140 | INFO     | get_location_info   :170  | 🌍 Getting location info for (18.947974, 72.829952)
2025-08-30 17:50:54,141 | DEBUG    | reverse_geocode     :58   | 🌍 Geocoding attempt 1 for (18.947974, 72.829952)
2025-08-30 17:50:54,862 | INFO     | reverse_geocode     :71   | 🌍 Geocoding successful: Kalbadevi, Mumbai City
2025-08-30 17:50:55,385 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:50:55,386 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-30 17:50:55,387 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai
2025-08-30 17:50:56,237 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-30 17:50:56,589 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-30 17:50:56,589 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-08-30 17:50:56,590 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-08-30 17:50:56,591 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-08-30 17:50:57,406 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-08-30 17:50:57,407 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-08-30 17:50:57,412 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-08-30 17:50:57,413 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-08-30 17:50:57,414 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-08-30 17:50:57,428 | INFO     | store_location      :49   | 📍 Location stored for user 1201911108 in company johnlee
2025-08-30 17:50:57,430 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai
2025-08-30 17:50:57,597 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-08-30 17:50:59,414 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:50:59,414 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:50:59,415 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:50:59,416 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:50:59,416 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-08-30 17:50:59,418 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:50:59,419 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-30 17:50:59,774 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-08-30 17:50:59,775 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-08-30 17:50:59,776 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-08-30 17:50:59,777 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-08-30 17:50:59,777 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-30 17:50:59,777 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-30 17:50:59,779 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-08-30 17:50:59,779 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-30 17:50:59,779 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-30 17:50:59,779 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-08-30 17:50:59,780 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company change'
2025-08-30 17:50:59,780 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company switch'
2025-08-30 17:50:59,781 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'select company'
2025-08-30 17:50:59,782 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'another company'
2025-08-30 17:50:59,782 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'new company'
2025-08-30 17:50:59,783 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-08-30 17:50:59,787 | WARNING  | safe_format_revenue :48   | ⚠️ Could not format revenue 'invalid': could not convert string to float: 'invalid'
2025-08-30 17:50:59,790 | WARNING  | get_company_stats   :269  | ⚠️ Could not convert amount 'invalid' to number: could not convert string to float: 'invalid'
2025-08-30 17:50:59,792 | INFO     | get_company_stats   :298  | 📈 Stats for test_company: {'total_records': 5, 'total_users': 4, 'total_revenue': 75000.5, 'date_range': '2025-01-22 to 2025-01-25'}
2025-08-30 17:50:59,793 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: None
2025-08-30 17:50:59,794 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: invalid
2025-08-30 17:50:59,794 | ERROR    | switch_user_company :156  | ❌ Invalid company: None
2025-08-30 17:50:59,795 | ERROR    | switch_user_company :163  | ❌ User 123456 not registered
2025-08-30 17:50:59,795 | ERROR    | switch_user_company :156  | ❌ Invalid company: 
2025-08-30 17:50:59,797 | ERROR    | get_company_stats   :302  | ❌ Failed to get stats for test_company: API Error
2025-08-30 17:50:59,800 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-08-30 17:50:59,801 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-08-30 17:50:59,801 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-08-30 17:50:59,802 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company change'
2025-08-30 17:56:27,616 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:56:27,616 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:56:27,616 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:56:27,616 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:57:12,316 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:57:12,316 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:57:12,316 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:57:12,332 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:57:12,386 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:57:12,386 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-30 17:57:57,083 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:57:57,083 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:57:57,083 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:57:57,083 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:57:57,566 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:57:57,566 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-08-30 17:58:10,966 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-08-30 17:58:10,966 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-08-30 17:58:10,966 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-08-30 17:58:10,966 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-08-30 17:58:11,483 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-08-30 17:58:11,483 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:02:10,712 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:02:10,712 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:02:10,712 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:02:10,712 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:02:10,846 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:02:10,846 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:02:10,846 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:06:29,169 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:06:29,171 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:06:29,171 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:06:29,171 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:06:29,247 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:06:29,249 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:06:29,249 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:07:10,900 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:07:10,900 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:07:10,900 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:07:10,900 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:07:10,968 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:07:10,968 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:07:10,969 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:07:10,969 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:07:10,969 | INFO     | store_location      :49   | 📍 Location stored for user 67890 in company test_company
2025-09-01 11:07:10,976 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:07:10,982 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:07:10,983 | DEBUG    | get_live_position_for_entry:343  | 📍 Live position data for user 54321 is expired (older than 24h)
2025-09-01 11:07:10,985 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:07:10,987 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:07:10,989 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:07:10,991 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:07:10,996 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:07:10,998 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:07:11,001 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:07:11,003 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:07:11,006 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:07:11,007 | INFO     | store_location      :49   | 📍 Location stored for user 99998 in company perf_test_company
2025-09-01 11:07:11,008 | INFO     | clear_location      :96   | 📍 Location cleared for user 99998 in company perf_test_company
2025-09-01 11:08:33,744 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:08:33,744 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:08:33,745 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:08:33,747 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:08:33,815 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:08:33,815 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:08:33,817 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:08:33,821 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:08:33,822 | INFO     | store_location      :49   | 📍 Location stored for user 67890 in company test_company
2025-09-01 11:08:33,825 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:08:33,835 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:08:33,836 | DEBUG    | get_live_position_for_entry:343  | 📍 Live position data for user 54321 is expired (older than 24h)
2025-09-01 11:08:33,837 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:08:33,841 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:08:33,843 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:08:33,850 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:08:33,852 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:08:33,854 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:08:33,857 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:08:33,858 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:08:33,860 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:08:33,861 | INFO     | store_location      :49   | 📍 Location stored for user 99998 in company perf_test_company
2025-09-01 11:08:33,863 | INFO     | clear_location      :96   | 📍 Location cleared for user 99998 in company perf_test_company
2025-09-01 11:09:02,811 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:09:02,811 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:09:02,812 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:09:02,812 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:09:02,813 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-09-01 11:09:02,815 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 11:09:02,816 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 tablets to Apollo for ₹25000'
2025-09-01 11:09:02,818 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-09-01 11:09:02,818 | DEBUG    | process_input       :67   | 🔍 Processing input: 'asdfghjkl'
2025-09-01 11:09:02,818 | DEBUG    | process_input       :73   | ❌ Input failed validation: gibberish_detected
2025-09-01 11:09:02,818 | DEBUG    | process_input       :67   | 🔍 Processing input: 'hello how are you'
2025-09-01 11:09:02,819 | DEBUG    | process_input       :73   | ❌ Input failed validation: casual_conversation
2025-09-01 11:09:02,819 | DEBUG    | get_fallback_response:159  | 🔄 Generating fallback response for: 'some unclear text...'
2025-09-01 11:09:05,607 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:09:05,607 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:09:06,168 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 11:09:06,168 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 11:09:06,168 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 11:09:06,217 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:09:06,219 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:09:06,220 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:09:06,220 | INFO     | process_data_chunks :79   | ⚡ Processing 20 items in 4 chunks
2025-09-01 11:09:06,220 | INFO     | process_data_chunks :93   | ⚡ Chunk processing completed: 20 results
2025-09-01 11:09:06,228 | INFO     | store_location      :49   | 📍 Location stored for user test_user in company test_company
2025-09-01 11:09:06,229 | INFO     | get_location        :68   | 📍 Location data expired for user test_user
2025-09-01 11:09:06,230 | INFO     | clear_location      :96   | 📍 Location cleared for user test_user in company test_company
2025-09-01 11:09:07,513 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 11:09:07,529 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-09-01 11:09:07,687 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:09:07,983 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:09:07,984 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:09:07,984 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:09:07,984 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:09:07,986 | INFO     | store_location      :49   | 📍 Location stored for user 1201911108 in company johnlee
2025-09-01 11:09:08,099 | INFO     | get_location_info   :170  | 🌍 Getting location info for (18.947974, 72.829952)
2025-09-01 11:09:08,099 | DEBUG    | reverse_geocode     :58   | 🌍 Geocoding attempt 1 for (18.947974, 72.829952)
2025-09-01 11:09:09,200 | INFO     | reverse_geocode     :71   | 🌍 Geocoding successful: Kalbadevi, Mumbai City
2025-09-01 11:09:09,818 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:09:09,818 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:09:09,818 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai
2025-09-01 11:09:10,718 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 11:09:11,089 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 11:09:11,089 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 11:09:11,089 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-09-01 11:09:11,089 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 11:09:11,889 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 11:09:11,894 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-09-01 11:09:11,894 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:09:11,899 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:09:11,899 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:09:11,904 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:09:11,919 | INFO     | store_location      :49   | 📍 Location stored for user 1201911108 in company johnlee
2025-09-01 11:09:11,919 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai
2025-09-01 11:09:12,068 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:09:13,781 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:09:13,782 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:09:13,782 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:09:13,783 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:09:13,783 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 11:09:13,784 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:09:13,785 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:09:14,138 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 11:09:14,138 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 11:09:14,138 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-09-01 11:09:14,138 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 11:09:14,138 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:09:14,138 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:09:14,138 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-09-01 11:09:14,138 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:09:14,138 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:09:14,144 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-09-01 11:09:14,144 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company change'
2025-09-01 11:09:14,145 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company switch'
2025-09-01 11:09:14,145 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'select company'
2025-09-01 11:09:14,146 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'another company'
2025-09-01 11:09:14,146 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'new company'
2025-09-01 11:09:14,146 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-09-01 11:09:14,149 | WARNING  | safe_format_revenue :48   | ⚠️ Could not format revenue 'invalid': could not convert string to float: 'invalid'
2025-09-01 11:09:14,156 | WARNING  | get_company_stats   :269  | ⚠️ Could not convert amount 'invalid' to number: could not convert string to float: 'invalid'
2025-09-01 11:09:14,159 | INFO     | get_company_stats   :298  | 📈 Stats for test_company: {'total_records': 5, 'total_users': 4, 'total_revenue': 75000.5, 'date_range': '2025-01-22 to 2025-01-25'}
2025-09-01 11:09:14,160 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: None
2025-09-01 11:09:14,160 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: invalid
2025-09-01 11:09:14,160 | ERROR    | switch_user_company :156  | ❌ Invalid company: None
2025-09-01 11:09:14,161 | ERROR    | switch_user_company :163  | ❌ User 123456 not registered
2025-09-01 11:09:14,161 | ERROR    | switch_user_company :156  | ❌ Invalid company: 
2025-09-01 11:09:14,162 | ERROR    | get_company_stats   :302  | ❌ Failed to get stats for test_company: API Error
2025-09-01 11:09:14,165 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:09:14,166 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-09-01 11:09:14,166 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-09-01 11:09:14,166 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company change'
2025-09-01 11:09:15,089 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:09:15,096 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:09:15,096 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:09:15,096 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:09:15,149 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:09:15,149 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:09:15,149 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:09:15,159 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:09:15,159 | INFO     | store_location      :49   | 📍 Location stored for user 67890 in company test_company
2025-09-01 11:09:15,162 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:09:15,167 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:09:15,168 | DEBUG    | get_live_position_for_entry:343  | 📍 Live position data for user 54321 is expired (older than 24h)
2025-09-01 11:09:15,168 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:09:15,172 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:09:15,173 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:09:15,177 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:09:15,178 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:09:15,179 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:09:15,182 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:09:15,185 | INFO     | store_location      :49   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:09:15,186 | INFO     | clear_location      :96   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:09:15,187 | INFO     | store_location      :49   | 📍 Location stored for user 99998 in company perf_test_company
2025-09-01 11:09:15,188 | INFO     | clear_location      :96   | 📍 Location cleared for user 99998 in company perf_test_company
2025-09-01 11:11:13,094 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:11:13,094 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:11:13,094 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:11:13,095 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:11:13,177 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:11:13,177 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:11:13,179 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:11:13,188 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:11:13,194 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:29:08,407 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:29:08,407 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:29:08,407 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:29:08,408 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:29:08,515 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:29:08,515 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:29:08,517 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:29:08,520 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:29:08,521 | INFO     | store_location      :50   | 📍 Location stored for user 67890 in company test_company
2025-09-01 11:29:08,522 | INFO     | clear_location      :97   | 📍 Location cleared for user 67890 in company test_company
2025-09-01 11:29:08,523 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:29:08,528 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:29:08,529 | DEBUG    | get_live_position_for_entry:343  | 📍 Live position data for user 54321 is expired (older than 24h)
2025-09-01 11:29:08,530 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:29:08,532 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:29:08,534 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:29:08,538 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:29:08,540 | DEBUG    | get_location_for_entry:328  | 📍 Using coordinate fallback for entry: GPS (19.0760, 72.8777)
2025-09-01 11:29:08,541 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:29:08,543 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:29:08,544 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:29:08,545 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:29:08,546 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:29:08,547 | INFO     | store_location      :50   | 📍 Location stored for user 99998 in company perf_test_company
2025-09-01 11:29:08,549 | INFO     | clear_location      :97   | 📍 Location cleared for user 99998 in company perf_test_company
2025-09-01 11:29:59,829 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:29:59,829 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:29:59,829 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:29:59,829 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:29:59,829 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-09-01 11:29:59,838 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 11:29:59,838 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 tablets to Apollo for ₹25000'
2025-09-01 11:29:59,838 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-09-01 11:29:59,838 | DEBUG    | process_input       :67   | 🔍 Processing input: 'asdfghjkl'
2025-09-01 11:29:59,838 | DEBUG    | process_input       :73   | ❌ Input failed validation: gibberish_detected
2025-09-01 11:29:59,838 | DEBUG    | process_input       :67   | 🔍 Processing input: 'hello how are you'
2025-09-01 11:29:59,838 | DEBUG    | process_input       :73   | ❌ Input failed validation: casual_conversation
2025-09-01 11:29:59,838 | DEBUG    | get_fallback_response:159  | 🔄 Generating fallback response for: 'some unclear text...'
2025-09-01 11:30:02,498 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:30:02,498 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:30:03,148 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 11:30:03,148 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 11:30:03,149 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 11:30:03,149 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:30:03,149 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:30:03,149 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:30:03,155 | INFO     | process_data_chunks :79   | ⚡ Processing 20 items in 4 chunks
2025-09-01 11:30:03,156 | INFO     | process_data_chunks :93   | ⚡ Chunk processing completed: 20 results
2025-09-01 11:30:03,157 | INFO     | store_location      :50   | 📍 Location stored for user test_user in company test_company
2025-09-01 11:30:03,158 | INFO     | get_location        :69   | 📍 Location data expired for user test_user
2025-09-01 11:30:03,159 | INFO     | clear_location      :97   | 📍 Location cleared for user test_user in company test_company
2025-09-01 11:30:04,517 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 11:30:04,527 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-09-01 11:30:04,702 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:32:08,417 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:32:08,417 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:32:08,417 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:32:08,417 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:32:08,417 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-09-01 11:32:08,417 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 11:32:08,417 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 tablets to Apollo for ₹25000'
2025-09-01 11:32:08,417 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-09-01 11:32:08,417 | DEBUG    | process_input       :67   | 🔍 Processing input: 'asdfghjkl'
2025-09-01 11:32:08,427 | DEBUG    | process_input       :73   | ❌ Input failed validation: gibberish_detected
2025-09-01 11:32:08,427 | DEBUG    | process_input       :67   | 🔍 Processing input: 'hello how are you'
2025-09-01 11:32:08,427 | DEBUG    | process_input       :73   | ❌ Input failed validation: casual_conversation
2025-09-01 11:32:08,427 | DEBUG    | get_fallback_response:159  | 🔄 Generating fallback response for: 'some unclear text...'
2025-09-01 11:32:11,865 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:32:11,865 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:32:12,192 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 11:32:12,192 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 11:32:12,200 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 11:32:12,200 | DEBUG    | _split_entries      :173  | 📦 Split text into 3 entries
2025-09-01 11:32:12,203 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:32:12,204 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:32:12,205 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:32:12,205 | INFO     | process_data_chunks :79   | ⚡ Processing 20 items in 4 chunks
2025-09-01 11:32:12,206 | INFO     | process_data_chunks :93   | ⚡ Chunk processing completed: 20 results
2025-09-01 11:32:12,208 | INFO     | store_location      :50   | 📍 Location stored for user test_user in company test_company
2025-09-01 11:32:12,208 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai
2025-09-01 11:32:12,208 | INFO     | clear_location      :97   | 📍 Location cleared for user test_user in company test_company
2025-09-01 11:32:13,043 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 11:32:13,051 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-09-01 11:32:13,216 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:32:22,215 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:32:22,215 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:32:22,215 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:32:22,215 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:32:22,217 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-09-01 11:32:22,217 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 11:32:22,217 | DEBUG    | process_input       :67   | 🔍 Processing input: 'Sold 5 tablets to Apollo for ₹25000'
2025-09-01 11:32:22,217 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-09-01 11:32:22,217 | DEBUG    | process_input       :67   | 🔍 Processing input: 'asdfghjkl'
2025-09-01 11:32:22,217 | DEBUG    | process_input       :73   | ❌ Input failed validation: gibberish_detected
2025-09-01 11:32:22,217 | DEBUG    | process_input       :67   | 🔍 Processing input: 'hello how are you'
2025-09-01 11:32:22,217 | DEBUG    | process_input       :73   | ❌ Input failed validation: casual_conversation
2025-09-01 11:32:22,217 | DEBUG    | get_fallback_response:159  | 🔄 Generating fallback response for: 'some unclear text...'
2025-09-01 11:32:25,535 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:32:25,535 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:32:25,832 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 11:32:25,832 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 11:32:25,835 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 11:32:25,835 | DEBUG    | _split_entries      :173  | 📦 Split text into 3 entries
2025-09-01 11:32:25,838 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:32:25,838 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:32:25,840 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:32:25,840 | INFO     | process_data_chunks :79   | ⚡ Processing 20 items in 4 chunks
2025-09-01 11:32:25,842 | INFO     | process_data_chunks :93   | ⚡ Chunk processing completed: 20 results
2025-09-01 11:32:25,843 | INFO     | store_location      :50   | 📍 Location stored for user test_user in company test_company
2025-09-01 11:32:25,843 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai
2025-09-01 11:32:25,844 | INFO     | clear_location      :97   | 📍 Location cleared for user test_user in company test_company
2025-09-01 11:32:26,618 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 11:32:26,618 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-09-01 11:32:26,781 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:32:27,078 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:32:27,078 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:32:27,078 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:32:27,078 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:32:27,078 | INFO     | store_location      :50   | 📍 Location stored for user 1201911108 in company johnlee
2025-09-01 11:32:27,193 | INFO     | get_location_info   :170  | 🌍 Getting location info for (18.947974, 72.829952)
2025-09-01 11:32:27,193 | DEBUG    | reverse_geocode     :58   | 🌍 Geocoding attempt 1 for (18.947974, 72.829952)
2025-09-01 11:32:27,918 | INFO     | reverse_geocode     :71   | 🌍 Geocoding successful: Kalbadevi, Mumbai City
2025-09-01 11:32:28,453 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:32:28,453 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:32:28,455 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai
2025-09-01 11:32:29,332 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 11:32:29,688 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 11:32:29,688 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 11:32:29,688 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-09-01 11:32:29,688 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 11:32:30,487 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 11:32:30,487 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-09-01 11:32:30,487 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:32:30,487 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 11:32:30,487 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:32:30,502 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:32:30,514 | INFO     | store_location      :50   | 📍 Location stored for user 1201911108 in company johnlee
2025-09-01 11:32:30,514 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai
2025-09-01 11:32:30,668 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 11:32:32,388 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:32:32,388 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:32:32,388 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:32:32,388 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:32:32,388 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 11:32:32,398 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:32:32,398 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:32:32,738 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 11:32:32,738 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 11:32:32,738 | INFO     | __init__            :68   | 🤖 AI Response Engine initialized
2025-09-01 11:32:32,738 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 11:32:32,738 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:32:32,738 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:32:32,738 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-09-01 11:32:32,738 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:32:32,738 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:32:32,738 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-09-01 11:32:32,738 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company change'
2025-09-01 11:32:32,746 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company switch'
2025-09-01 11:32:32,748 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'select company'
2025-09-01 11:32:32,748 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'another company'
2025-09-01 11:32:32,749 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'new company'
2025-09-01 11:32:32,750 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-09-01 11:32:32,752 | WARNING  | safe_format_revenue :48   | ⚠️ Could not format revenue 'invalid': could not convert string to float: 'invalid'
2025-09-01 11:32:32,758 | WARNING  | get_company_stats   :269  | ⚠️ Could not convert amount 'invalid' to number: could not convert string to float: 'invalid'
2025-09-01 11:32:32,762 | INFO     | get_company_stats   :298  | 📈 Stats for test_company: {'total_records': 5, 'total_users': 4, 'total_revenue': 75000.5, 'date_range': '2025-01-22 to 2025-01-25'}
2025-09-01 11:32:32,763 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: None
2025-09-01 11:32:32,764 | ERROR    | switch_user_company :152  | ❌ Invalid user_id: invalid
2025-09-01 11:32:32,764 | ERROR    | switch_user_company :156  | ❌ Invalid company: None
2025-09-01 11:32:32,764 | ERROR    | switch_user_company :163  | ❌ User 123456 not registered
2025-09-01 11:32:32,765 | ERROR    | switch_user_company :156  | ❌ Invalid company: 
2025-09-01 11:32:32,767 | ERROR    | get_company_stats   :302  | ❌ Failed to get stats for test_company: API Error
2025-09-01 11:32:32,770 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 11:32:32,771 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-09-01 11:32:32,771 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'different company'
2025-09-01 11:32:32,771 | INFO     | detect_company_switch_intent:48   | 🎯 Company switch intent detected via keyword: 'company change'
2025-09-01 11:32:33,648 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:32:33,648 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:32:33,648 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:32:33,648 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:32:33,713 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 11:32:33,713 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 11:32:33,715 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 11:32:33,718 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:32:33,718 | INFO     | store_location      :50   | 📍 Location stored for user 67890 in company test_company
2025-09-01 11:32:33,718 | INFO     | clear_location      :97   | 📍 Location cleared for user 67890 in company test_company
2025-09-01 11:32:33,721 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:32:33,724 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:32:33,725 | DEBUG    | get_live_position_for_entry:343  | 📍 Live position data for user 54321 is expired (older than 24h)
2025-09-01 11:32:33,726 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:32:33,728 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:32:33,729 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:32:33,735 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:32:33,736 | DEBUG    | get_location_for_entry:328  | 📍 Using coordinate fallback for entry: GPS (19.0760, 72.8777)
2025-09-01 11:32:33,736 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:32:33,738 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:32:33,739 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:32:33,740 | INFO     | store_location      :50   | 📍 Location stored for user 54321 in company test_company
2025-09-01 11:32:33,740 | INFO     | clear_location      :97   | 📍 Location cleared for user 54321 in company test_company
2025-09-01 11:32:33,743 | INFO     | store_location      :50   | 📍 Location stored for user 99998 in company perf_test_company
2025-09-01 11:32:33,743 | INFO     | clear_location      :97   | 📍 Location cleared for user 99998 in company perf_test_company
2025-09-01 11:53:06,378 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:53:06,378 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:53:06,378 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:53:06,378 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:54:21,338 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:54:21,338 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:54:21,338 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:54:21,338 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:57:38,657 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:57:38,658 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:57:38,658 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:57:38,658 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:58:26,746 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:58:26,746 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:58:26,746 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:58:26,746 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:59:09,581 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 11:59:09,581 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 11:59:09,581 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 11:59:09,581 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 11:59:09,587 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 11:59:11,356 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 11:59:12,958 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 11:59:12,958 | INFO     | generate_ai_powered_response:281  | 🗨️ Generated casual response using dedicated chat API key
2025-09-01 11:59:15,006 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 11:59:15,006 | INFO     | generate_ai_powered_response:281  | 🗨️ Generated casual response using dedicated chat API key
2025-09-01 11:59:17,770 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 11:59:17,770 | INFO     | generate_ai_powered_response:281  | 🗨️ Generated casual response using dedicated chat API key
2025-09-01 11:59:26,907 | INFO     | generate_content_specialized:95   | ✅ Used tertiary key for command_processing
2025-09-01 11:59:26,907 | ERROR    | generate_command_insights:355  | 📊 Command insights generation failed: Expecting value: line 1 column 1 (char 0)
2025-09-01 12:00:07,194 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:00:07,194 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:00:07,194 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:00:07,195 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:10:09,262 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:10:09,262 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:10:09,263 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:10:09,263 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:10:09,277 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:10:27,998 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:10:27,998 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:10:27,998 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:10:27,999 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:10:28,000 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:10:28,462 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:10:28,585 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 12:10:28,585 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:10:29,280 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:10:29,280 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 12:10:29,296 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:10:29,302 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:10:29,302 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:10:29,303 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 12:10:30,700 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:11:00,376 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:11:00,377 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:11:00,377 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:11:00,378 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:11:00,379 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:11:00,746 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:11:00,792 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 12:11:00,792 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:11:01,104 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:11:01,104 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 12:11:01,106 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:11:01,109 | INFO     | __init__            :39   | 🔥 Stress Test Suite initialized
2025-09-01 12:11:04,299 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:11:05,998 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:11:07,732 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:11:09,327 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:11:12,069 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:11:14,735 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:11:18,088 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:11:19,558 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:11:22,943 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:11:25,325 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:11:30,276 | INFO     | generate_content_specialized:95   | ✅ Used tertiary key for command_processing
2025-09-01 12:11:30,276 | ERROR    | generate_command_insights:355  | 📊 Command insights generation failed: Expecting value: line 1 column 1 (char 0)
2025-09-01 12:11:33,994 | INFO     | generate_content_specialized:95   | ✅ Used tertiary key for command_processing
2025-09-01 12:11:33,994 | ERROR    | generate_command_insights:355  | 📊 Command insights generation failed: Expecting value: line 1 column 1 (char 0)
2025-09-01 12:11:34,320 | ERROR    | generate_command_insights:355  | 📊 Command insights generation failed: API call failed with tertiary: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 25
}
]
2025-09-01 12:12:02,992 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:04,278 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:06,334 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:07,773 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:10,650 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:12,576 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:13,873 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:20,102 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:22,143 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:24,104 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:25,172 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:12:58,523 | INFO     | extract_with_gemini :228  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:13:01,003 | ERROR    | _generate_casual_response_internal:309  | ❌ Casual chat generation failed: API call failed with secondary: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 59
}
]
2025-09-01 12:13:01,020 | ERROR    | _generate_casual_response_internal:309  | ❌ Casual chat generation failed: API call failed with secondary: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 59
}
]
2025-09-01 12:13:02,002 | ERROR    | _generate_casual_response_internal:309  | ❌ Casual chat generation failed: API call failed with secondary: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 58
}
]
2025-09-01 12:13:02,012 | ERROR    | _generate_casual_response_internal:309  | ❌ Casual chat generation failed: API call failed with secondary: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 58
}
]
2025-09-01 12:13:02,026 | ERROR    | _generate_casual_response_internal:309  | ❌ Casual chat generation failed: API call failed with secondary: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 58
}
]
2025-09-01 12:13:02,585 | ERROR    | _generate_casual_response_internal:309  | ❌ Casual chat generation failed: API call failed with secondary: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 57
}
]
2025-09-01 12:13:03,122 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:03,600 | ERROR    | generate_command_insights:355  | 📊 Command insights generation failed: API call failed with tertiary: 429 You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits. [violations {
}
, links {
  description: "Learn more about Gemini API quotas"
  url: "https://ai.google.dev/gemini-api/docs/rate-limits"
}
, retry_delay {
  seconds: 56
}
]
2025-09-01 12:13:04,306 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:04,862 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:04,962 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:05,582 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:05,972 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:07,282 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:07,604 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:07,804 | INFO     | generate_content_specialized:95   | ✅ Used secondary key for casual_chat
2025-09-01 12:13:11,672 | INFO     | generate_content_specialized:95   | ✅ Used tertiary key for command_processing
2025-09-01 12:13:11,672 | ERROR    | generate_command_insights:355  | 📊 Command insights generation failed: Expecting value: line 1 column 1 (char 0)
2025-09-01 12:13:12,952 | INFO     | generate_content_specialized:95   | ✅ Used tertiary key for command_processing
2025-09-01 12:13:12,962 | ERROR    | generate_command_insights:355  | 📊 Command insights generation failed: Expecting value: line 1 column 1 (char 0)
2025-09-01 12:14:59,843 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:14:59,843 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:14:59,843 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:14:59,844 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:15:56,848 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:15:56,848 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:15:56,848 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:15:56,848 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:18:49,858 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:18:49,858 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:18:49,858 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:18:49,858 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:18:50,138 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-09-01 12:18:50,138 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 12:18:50,138 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:18:50,138 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:18:50,148 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:18:51,213 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:18:51,213 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 12:18:51,213 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:18:51,220 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:18:51,220 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:18:51,220 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 12:18:51,241 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 12:19:30,689 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:19:30,689 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:19:30,689 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:19:30,689 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:19:30,929 | WARNING  | <module>            :14   | ⚠️ Google Sheets credentials file not found - legacy sheets disabled
2025-09-01 12:19:30,937 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 12:19:30,937 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:19:30,937 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:19:30,938 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:19:32,059 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:19:32,059 | WARNING  | __init__            :32   | ⚠️ Google Sheets credentials file not found - running in offline mode
2025-09-01 12:19:32,071 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:19:32,072 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:19:32,073 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:19:32,073 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 12:19:32,074 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 12:19:32,095 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 12:19:32,095 | WARNING  | check_sheet_connection:103  | ⚠️ Google Sheets not available (offline mode)
2025-09-01 12:19:32,095 | WARNING  | check_system_health :91   | ⚠️ Google Sheets connection failed - some features may not work
2025-09-01 12:19:32,095 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 12:19:32,097 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 12:19:32,749 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 12:19:32,749 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 12:19:32,749 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 12:19:32,749 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 12:19:32,749 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 12:19:32,749 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 12:19:32,749 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 12:19:32,752 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 12:19:32,752 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 12:19:32,752 | WARNING  | check_sheet_connection:103  | ⚠️ Google Sheets not available (offline mode)
2025-09-01 12:19:32,752 | DEBUG    | main                :215  |    📊 Google Sheets: Disabled
2025-09-01 12:19:32,752 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 12:19:32,752 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 12:20:23,239 | INFO     | main                :226  | 🛑 Bot stopped by user
2025-09-01 12:20:26,277 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:20:26,277 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:20:26,279 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:20:26,279 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:20:30,189 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 12:20:30,191 | INFO     | _load_user_mappings :71   | 📂 No existing user mappings found, starting fresh
2025-09-01 12:20:30,192 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:20:30,194 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:20:30,195 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:20:31,205 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:20:31,206 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:20:33,266 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:20:33,741 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:20:33,742 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:20:34,136 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:20:34,508 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:20:34,977 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:20:35,367 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:20:35,372 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:20:35,375 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:20:35,376 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:20:35,377 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 12:20:35,380 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 12:20:35,393 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 12:20:35,875 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 12:20:35,877 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 12:20:36,392 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 12:20:36,392 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 12:20:36,392 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 12:20:36,393 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 12:20:36,393 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 12:20:36,394 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 12:20:36,394 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 12:20:36,394 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 12:20:36,394 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 12:20:36,779 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 12:20:36,779 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 12:20:36,779 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 12:20:51,942 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'hey'
2025-09-01 12:20:51,942 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'hey'
2025-09-01 12:20:51,942 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:20:51,942 | WARNING  | handle_message      :128  | 🚫 Unregistered user 1201911108 attempting to use bot
2025-09-01 12:20:52,632 | INFO     | async_wrapper       :137  | handle_message executed in 0.691 seconds
2025-09-01 12:20:57,209 | INFO     | company_select_command:103  | 🏢 Company selection requested by user 1201911108
2025-09-01 12:20:57,727 | INFO     | show_company_registration_menu:137  | 📝 Sent company registration menu to user 1201911108
2025-09-01 12:20:58,905 | INFO     | handle_company_callback:189  | ⚡ Company callback: register_company_yugrow from user 1201911108
2025-09-01 12:20:58,906 | INFO     | assign_user_to_company:381  | 📝 New user 1201911108 registered with company yugrow
2025-09-01 12:20:58,909 | INFO     | _save_user_mappings :83   | 💾 User mappings saved successfully
2025-09-01 12:20:59,327 | INFO     | handle_company_callback:208  | ✅ User 1201911108 registered with company yugrow
2025-09-01 12:21:08,655 | INFO     | start_command       :31   | 🚀 Start command called by user 1201911108 (Vishesh Sanghvi)
2025-09-01 12:21:09,379 | INFO     | start_command       :95   | ✅ Enhanced start command completed for user 1201911108
2025-09-01 12:21:20,437 | INFO     | dashboard_command   :630  | 📊 Dashboard requested by user 1201911108
2025-09-01 12:21:22,649 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:21:22,649 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:21:22,649 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 12:21:22,649 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 12:21:23,136 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-09-01 12:21:23,139 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.490 seconds
2025-09-01 12:21:23,152 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.504 seconds
2025-09-01 12:21:23,169 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 12:21:23,170 | ERROR    | _clean_and_normalize_data:117  | ❌ Data cleaning failed: 'amount'
2025-09-01 12:21:23,170 | INFO     | load_fresh_data     :82   | ✅ Loaded 8 records for user 1201911108
2025-09-01 12:21:23,171 | INFO     | generate_executive_dashboard:152  | 📊 Generating executive dashboard for user 1201911108...
2025-09-01 12:21:23,557 | ERROR    | dashboard_command   :741  | Dashboard command error: 'amount'
2025-09-01 12:21:33,572 | INFO     | handle_callback_query:141  | Callback query received: menu_sales from user 1201911108
2025-09-01 12:21:40,295 | INFO     | handle_callback_query:141  | Callback query received: menu_main from user 1201911108
2025-09-01 12:21:43,403 | INFO     | handle_callback_query:141  | Callback query received: menu_help from user 1201911108
2025-09-01 12:21:51,492 | INFO     | handle_callback_query:141  | Callback query received: help_troubleshoot from user 1201911108
2025-09-01 12:21:55,805 | INFO     | handle_callback_query:141  | Callback query received: menu_help from user 1201911108
2025-09-01 12:21:58,839 | INFO     | handle_callback_query:141  | Callback query received: help_settings from user 1201911108
2025-09-01 12:22:01,193 | INFO     | handle_callback_query:141  | Callback query received: menu_help from user 1201911108
2025-09-01 12:22:02,901 | INFO     | handle_callback_query:141  | Callback query received: help_contact from user 1201911108
2025-09-01 12:22:05,470 | INFO     | handle_callback_query:141  | Callback query received: menu_help from user 1201911108
2025-09-01 12:22:07,621 | INFO     | handle_callback_query:141  | Callback query received: help_logging from user 1201911108
2025-09-01 12:22:14,531 | INFO     | handle_callback_query:141  | Callback query received: menu_help from user 1201911108
2025-09-01 12:22:18,406 | INFO     | handle_callback_query:141  | Callback query received: help_reports from user 1201911108
2025-09-01 12:22:32,097 | INFO     | company_select_command:103  | 🏢 Company selection requested by user 1201911108
2025-09-01 12:22:32,775 | INFO     | show_company_switching_menu:177  | 🔄 Sent company switching menu to user 1201911108
2025-09-01 12:22:35,048 | INFO     | handle_company_callback:189  | ⚡ Company callback: company_info_yugrow from user 1201911108
2025-09-01 12:22:35,486 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-09-01 12:22:35,487 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.439 seconds
2025-09-01 12:22:35,493 | INFO     | get_company_stats   :298  | 📈 Stats for yugrow: {'total_records': 8, 'total_users': 1, 'total_revenue': 108500.0, 'date_range': '23-08-2025 to 25-08-2025'}
2025-09-01 12:22:47,306 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'i want to change company'
2025-09-01 12:22:47,307 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'i want to change company'
2025-09-01 12:22:47,308 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:22:47,308 | INFO     | detect_company_switch_intent:49   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 12:22:47,308 | INFO     | handle_message      :138  | 🏢 Company switching intent detected for user 1201911108
2025-09-01 12:22:47,992 | INFO     | show_company_switching_menu:177  | 🔄 Sent company switching menu to user 1201911108
2025-09-01 12:22:47,992 | INFO     | async_wrapper       :137  | handle_message executed in 0.686 seconds
2025-09-01 12:22:53,139 | INFO     | handle_company_callback:189  | ⚡ Company callback: company_info_yugrow from user 1201911108
2025-09-01 12:22:53,567 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-09-01 12:22:53,569 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.429 seconds
2025-09-01 12:22:53,572 | INFO     | get_company_stats   :298  | 📈 Stats for yugrow: {'total_records': 8, 'total_users': 1, 'total_revenue': 108500.0, 'date_range': '23-08-2025 to 25-08-2025'}
2025-09-01 12:23:02,725 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'change company'
2025-09-01 12:23:02,726 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'change company'
2025-09-01 12:23:02,727 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:23:02,727 | INFO     | detect_company_switch_intent:49   | 🎯 Company switch intent detected via keyword: 'change company'
2025-09-01 12:23:02,728 | INFO     | handle_message      :138  | 🏢 Company switching intent detected for user 1201911108
2025-09-01 12:23:03,476 | INFO     | show_company_switching_menu:177  | 🔄 Sent company switching menu to user 1201911108
2025-09-01 12:23:03,476 | INFO     | async_wrapper       :137  | handle_message executed in 0.751 seconds
2025-09-01 12:23:09,612 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'switch company'
2025-09-01 12:23:09,613 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'switch company'
2025-09-01 12:23:09,613 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:23:09,614 | INFO     | detect_company_switch_intent:49   | 🎯 Company switch intent detected via keyword: 'switch company'
2025-09-01 12:23:09,615 | INFO     | handle_message      :138  | 🏢 Company switching intent detected for user 1201911108
2025-09-01 12:23:10,306 | INFO     | show_company_switching_menu:177  | 🔄 Sent company switching menu to user 1201911108
2025-09-01 12:23:10,307 | INFO     | async_wrapper       :137  | handle_message executed in 0.696 seconds
2025-09-01 12:23:51,977 | INFO     | company_select_command:103  | 🏢 Company selection requested by user 1201911108
2025-09-01 12:23:52,674 | INFO     | show_company_switching_menu:177  | 🔄 Sent company switching menu to user 1201911108
2025-09-01 12:23:54,694 | INFO     | handle_company_callback:189  | ⚡ Company callback: company_info_yugrow from user 1201911108
2025-09-01 12:23:55,109 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-09-01 12:23:55,110 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.416 seconds
2025-09-01 12:23:55,112 | INFO     | get_company_stats   :298  | 📈 Stats for yugrow: {'total_records': 8, 'total_users': 1, 'total_revenue': 108500.0, 'date_range': '23-08-2025 to 25-08-2025'}
2025-09-01 12:24:21,394 | INFO     | today_command       :194  | 📅 Today summary requested by user 1201911108
2025-09-01 12:24:22,564 | INFO     | get_all_records     :65   | Successfully retrieved 22 records from sheet
2025-09-01 12:24:22,564 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.473 seconds
2025-09-01 12:24:35,910 | INFO     | month_command       :249  | 📅 Monthly summary requested by user 1201911108
2025-09-01 12:24:37,102 | INFO     | get_all_records     :65   | Successfully retrieved 22 records from sheet
2025-09-01 12:24:37,104 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.508 seconds
2025-09-01 12:26:03,754 | INFO     | top_performers_command:922  | 🏆 Top performers requested by user 1201911108
2025-09-01 12:26:04,489 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:26:04,489 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 12:26:04,489 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 12:26:05,034 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-09-01 12:26:05,034 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.545 seconds
2025-09-01 12:26:05,034 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.545 seconds
2025-09-01 12:26:05,034 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 12:26:05,034 | ERROR    | _clean_and_normalize_data:117  | ❌ Data cleaning failed: 'amount'
2025-09-01 12:26:05,034 | INFO     | load_fresh_data     :82   | ✅ Loaded 8 records for user 1201911108
2025-09-01 12:26:05,034 | INFO     | generate_executive_dashboard:152  | 📊 Generating executive dashboard for user 1201911108...
2025-09-01 12:26:05,461 | ERROR    | top_performers_command:1010 | Top performers command error: 'amount'
2025-09-01 12:26:16,904 | INFO     | location_command    :28   | 📍 /location command from user 1201911108 (Vishesh)
2025-09-01 12:26:16,906 | INFO     | request_location    :37   | 📍 Location request from user 1201911108 (Vishesh)
2025-09-01 12:26:17,621 | INFO     | request_location    :110  | 📍 Location request sent to user 1201911108 for company yugrow
2025-09-01 12:26:35,228 | INFO     | handle_location_message:268  | 📍 Location message received from user 1201911108
2025-09-01 12:26:35,228 | INFO     | handle_location_message:300  | 📍 Processing as regular location for user 1201911108
2025-09-01 12:26:35,229 | INFO     | handle_location     :134  | 📍 Location received from user 1201911108 (Vishesh)
2025-09-01 12:26:35,229 | INFO     | handle_location     :165  | 📍 Using company from location request: yugrow
2025-09-01 12:26:35,924 | INFO     | get_location_info   :170  | 🌍 Getting location info for (18.947939, 72.829962)
2025-09-01 12:26:35,925 | DEBUG    | reverse_geocode     :58   | 🌍 Geocoding attempt 1 for (18.947939, 72.829962)
2025-09-01 12:26:36,674 | INFO     | reverse_geocode     :71   | 🌍 Geocoding successful: Kalbadevi, Mumbai City
2025-09-01 12:26:36,674 | INFO     | handle_location     :195  | 📍 Geocoding successful for user 1201911108: Kalbadevi, Mumbai City
2025-09-01 12:26:36,684 | INFO     | store_location      :50   | 📍 Location stored for user 1201911108 in company yugrow
2025-09-01 12:26:37,087 | INFO     | handle_location     :251  | 📍 Location successfully stored for user 1201911108 in company yugrow
2025-09-01 12:26:46,836 | INFO     | location_status_command:94   | 📍 /location_status command from user 1201911108
2025-09-01 12:27:06,114 | INFO     | location_analytics_command:484  | 📍 Location analytics requested by user 1201911108
2025-09-01 12:27:06,824 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:27:06,825 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 12:27:06,825 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 12:27:07,335 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-09-01 12:27:07,335 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.509 seconds
2025-09-01 12:27:07,335 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.509 seconds
2025-09-01 12:27:07,335 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 12:27:07,335 | ERROR    | _clean_and_normalize_data:117  | ❌ Data cleaning failed: 'amount'
2025-09-01 12:27:07,335 | INFO     | load_fresh_data     :82   | ✅ Loaded 8 records for user 1201911108
2025-09-01 12:27:07,335 | INFO     | generate_location_analytics:206  | 📍 Generating location analytics for user 1201911108...
2025-09-01 12:27:07,335 | ERROR    | _extract_gps_data   :281  | ❌ GPS data extraction failed: 'location'
2025-09-01 12:27:07,344 | ERROR    | generate_location_analytics:246  | ❌ Location analytics generation failed for user 1201911108: 'location'
2025-09-01 12:27:35,864 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'Cool'
2025-09-01 12:27:35,868 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'Cool'
2025-09-01 12:27:35,869 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:27:35,870 | INFO     | handle_message      :160  | 💬 Responding to casual greeting from user 1201911108
2025-09-01 12:27:36,544 | INFO     | async_wrapper       :137  | handle_message executed in 0.680 seconds
2025-09-01 12:27:43,924 | INFO     | dashboard_command   :630  | 📊 Dashboard requested by user 1201911108
2025-09-01 12:27:44,615 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:27:44,615 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 12:27:44,615 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 12:27:45,034 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from yugrow sheet
2025-09-01 12:27:45,034 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.420 seconds
2025-09-01 12:27:45,034 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.420 seconds
2025-09-01 12:27:45,034 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 12:27:45,034 | ERROR    | _clean_and_normalize_data:117  | ❌ Data cleaning failed: 'amount'
2025-09-01 12:27:45,034 | INFO     | load_fresh_data     :82   | ✅ Loaded 8 records for user 1201911108
2025-09-01 12:27:45,034 | INFO     | generate_executive_dashboard:152  | 📊 Generating executive dashboard for user 1201911108...
2025-09-01 12:27:45,424 | ERROR    | dashboard_command   :741  | Dashboard command error: 'amount'
2025-09-01 12:35:15,864 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:35:15,864 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:35:15,865 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:35:15,865 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:35:15,866 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 12:35:15,866 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:35:15,867 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:35:15,872 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:35:17,976 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:35:18,480 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:35:18,480 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:35:18,924 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:35:19,374 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:35:19,833 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:35:20,280 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:35:20,283 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:35:20,291 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:35:20,297 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:35:20,297 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:35:21,575 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:35:21,580 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:35:27,904 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:35:27,905 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:35:27,905 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:35:27,905 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:35:27,906 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 12:35:27,907 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:35:27,907 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:35:27,909 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:35:32,980 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:35:33,445 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:35:33,446 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:35:33,884 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:35:34,328 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:35:34,704 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:35:35,131 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:35:35,131 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:35:35,133 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:35:35,134 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:35:35,135 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:35:35,915 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:35:35,918 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:37:29,439 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:37:29,439 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:37:29,439 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:37:29,439 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:37:29,439 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 12:37:29,439 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:37:29,439 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:37:29,439 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:37:32,071 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:37:32,473 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:37:32,474 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:37:32,922 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:37:33,470 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:37:33,980 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:37:34,428 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:37:34,429 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:37:34,436 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:37:34,436 | INFO     | __init__            :70   | 🤖 AI Response Engine initialized
2025-09-01 12:37:34,439 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:37:34,439 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:37:34,440 | WARNING  | record_request      :149  | 🚫 primary quota exhausted, will retry in 60s
2025-09-01 12:37:35,289 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:37:35,291 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:40:44,032 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:40:44,032 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:40:44,033 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:40:44,033 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:40:44,033 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 12:40:44,034 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:40:44,034 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:40:44,036 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:40:46,297 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:40:46,815 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:40:46,817 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:40:47,197 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:40:47,701 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:40:48,188 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:40:48,669 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:40:48,671 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:40:48,672 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:40:48,672 | DEBUG    | _clean_and_normalize_data:93   | 🔍 Available columns: ['client', 'location', 'orders', 'remarks']
2025-09-01 12:40:48,680 | DEBUG    | _clean_and_normalize_data:104  | ✅ Converted orders to numeric
2025-09-01 12:40:48,683 | DEBUG    | _clean_and_normalize_data:111  | ✅ Cleaned client text column
2025-09-01 12:40:48,684 | DEBUG    | _clean_and_normalize_data:111  | ✅ Cleaned location text column
2025-09-01 12:40:48,684 | DEBUG    | _clean_and_normalize_data:111  | ✅ Cleaned remarks text column
2025-09-01 12:40:48,684 | DEBUG    | _clean_and_normalize_data:125  | 🧹 Data cleaned: 2 records with 4 columns
2025-09-01 12:40:48,693 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 12:40:48,694 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 12:40:48,695 | WARNING  | _clean_and_parse_json:75   | 🚫 Empty response received
2025-09-01 12:40:48,695 | WARNING  | _clean_and_parse_json:93   | ❌ JSON parsing failed: Expecting value: line 1 column 1 (char 0)
2025-09-01 12:40:48,696 | WARNING  | _clean_and_parse_json:93   | ❌ JSON parsing failed: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2025-09-01 12:40:48,697 | WARNING  | _clean_and_parse_json:93   | ❌ JSON parsing failed: Expecting value: line 1 column 15 (char 14)
2025-09-01 12:40:48,697 | INFO     | _clean_and_parse_json:89   | ✅ JSON parsed successfully
2025-09-01 12:40:48,699 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:40:48,699 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:40:48,700 | WARNING  | record_request      :149  | 🚫 primary quota exhausted, will retry in 60s
2025-09-01 12:40:48,701 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:40:49,447 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:40:49,448 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:42:06,898 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:42:06,898 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:42:06,899 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:42:06,899 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:42:06,900 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 12:42:06,900 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:42:06,900 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:42:06,901 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:42:08,990 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:42:09,383 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:42:09,383 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:42:09,863 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:42:10,364 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:42:10,850 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:42:11,342 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:42:11,343 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:42:11,344 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:42:11,344 | DEBUG    | _clean_and_normalize_data:93   | 🔍 Available columns: ['client', 'location', 'orders', 'remarks']
2025-09-01 12:42:11,345 | DEBUG    | _clean_and_normalize_data:104  | ✅ Converted orders to numeric
2025-09-01 12:42:11,346 | DEBUG    | _clean_and_normalize_data:111  | ✅ Cleaned client text column
2025-09-01 12:42:11,347 | DEBUG    | _clean_and_normalize_data:111  | ✅ Cleaned location text column
2025-09-01 12:42:11,347 | DEBUG    | _clean_and_normalize_data:111  | ✅ Cleaned remarks text column
2025-09-01 12:42:11,347 | DEBUG    | _clean_and_normalize_data:125  | 🧹 Data cleaned: 2 records with 4 columns
2025-09-01 12:42:11,348 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 12:42:11,349 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 12:42:11,349 | WARNING  | _clean_and_parse_json:75   | 🚫 Empty response received
2025-09-01 12:42:11,349 | WARNING  | _clean_and_parse_json:93   | ❌ JSON parsing failed: Expecting value: line 1 column 1 (char 0)
2025-09-01 12:42:11,350 | WARNING  | _clean_and_parse_json:93   | ❌ JSON parsing failed: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2025-09-01 12:42:11,350 | WARNING  | _clean_and_parse_json:93   | ❌ JSON parsing failed: Expecting value: line 1 column 15 (char 14)
2025-09-01 12:42:11,350 | INFO     | _clean_and_parse_json:89   | ✅ JSON parsed successfully
2025-09-01 12:42:11,351 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:42:11,351 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:42:11,352 | WARNING  | record_request      :149  | 🚫 primary quota exhausted, will retry in 60s
2025-09-01 12:42:11,353 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:42:12,301 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:42:12,303 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:43:06,416 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:43:06,416 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:43:06,416 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:43:06,417 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:43:07,722 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 12:43:07,723 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:43:07,723 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:43:07,725 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:43:10,243 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:43:10,810 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:43:10,811 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:43:11,321 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:43:11,822 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:43:12,227 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:43:12,595 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:43:12,598 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 12:43:12,600 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 12:43:12,602 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:44:12,477 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:44:12,478 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:44:12,478 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:44:12,478 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:44:15,194 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 12:44:15,197 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 12:44:15,199 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:44:15,204 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 12:44:15,205 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:44:16,144 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:44:16,145 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:44:18,131 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:44:18,607 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:44:18,607 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:44:19,346 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:44:19,839 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:44:20,342 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:44:20,722 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:44:20,727 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:44:20,733 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:44:20,733 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:44:20,734 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 12:44:20,742 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 12:44:20,752 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 12:44:21,263 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 12:44:21,265 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 12:44:21,845 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 12:44:21,845 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 12:44:21,846 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 12:44:21,847 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 12:44:21,847 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 12:44:21,847 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 12:44:21,847 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 12:44:21,847 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 12:44:21,847 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 12:44:22,332 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 12:44:22,332 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 12:44:22,333 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 12:44:29,112 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'hey'
2025-09-01 12:44:29,112 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'hey'
2025-09-01 12:44:29,113 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:44:29,113 | INFO     | handle_message      :160  | 💬 Responding to casual greeting from user 1201911108
2025-09-01 12:44:29,850 | INFO     | async_wrapper       :137  | handle_message executed in 0.738 seconds
2025-09-01 12:45:14,089 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:45:14,090 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:45:14,090 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:45:14,090 | WARNING  | handle_message      :182  | ⚠️ User 1201911108 hasn't selected log type yet
2025-09-01 12:45:14,795 | INFO     | async_wrapper       :137  | handle_message executed in 0.706 seconds
2025-09-01 12:45:16,789 | INFO     | sales_command       :102  | 📊 Sales command called by user 1201911108 (Vishesh Sanghvi)
2025-09-01 12:45:16,791 | DEBUG    | sales_command       :105  | 🔧 Set user 1201911108 context to 'Sales' mode
2025-09-01 12:45:23,781 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:45:23,782 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:45:23,783 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:45:23,783 | INFO     | handle_message      :186  | 📊 Processing Sales entry for user 1201911108
2025-09-01 12:45:23,784 | DEBUG    | process_input       :67   | 🔍 Processing input: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:45:23,785 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-09-01 12:45:23,785 | DEBUG    | handle_message      :226  | 🔄 Attempting strict format parsing for user 1201911108
2025-09-01 12:45:23,786 | WARNING  | handle_message      :252  | ⚠️ Strict format parsing failed for user 1201911108: list index out of range
2025-09-01 12:45:24,486 | INFO     | handle_message      :255  | 🤖 Initiating Gemini AI parsing for user 1201911108 (input pre-validated)
2025-09-01 12:45:24,492 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:45:24,492 | ERROR    | handle_message      :260  | ❌ Gemini parsing failed or invalid data for user 1201911108: None
2025-09-01 12:45:24,493 | ERROR    | handle_message      :281  | ❌ Gemini parsing exception for user 1201911108: 'InputProcessor' object has no attribute 'get_parsing_failure_response'
2025-09-01 12:45:24,496 | ERROR    | handle_error        :126  | Error occurred - Type: unknown, Message: 'InputProcessor' object has no attribute 'get_parsing_failure_response', Traceback: Traceback (most recent call last):
  File "D:\PerformanceTracker\handlers.py", line 228, in handle_message
    client = [l for l in lines if "Client" in l][0].split(":", 1)[1].strip()
             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\PerformanceTracker\handlers.py", line 262, in handle_message
    response = input_processor.get_parsing_failure_response(user_type)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'InputProcessor' object has no attribute 'get_parsing_failure_response'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\PerformanceTracker\handlers.py", line 285, in handle_message
    f"{input_processor.get_parsing_failure_response(user_type)}\n\n"
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'InputProcessor' object has no attribute 'get_parsing_failure_response'

2025-09-01 12:45:24,936 | INFO     | async_wrapper       :137  | handle_message executed in 1.154 seconds
2025-09-01 12:49:38,841 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 12:49:38,842 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 12:49:38,842 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 12:49:38,843 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 12:49:44,086 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 12:49:44,091 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 12:49:44,091 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 12:49:44,093 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 12:49:44,101 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 12:49:48,058 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 12:49:48,059 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 12:49:51,358 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 12:49:51,846 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 12:49:51,847 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 12:49:52,306 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 12:49:52,781 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 12:49:53,367 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 12:49:53,835 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 12:49:53,844 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 12:49:53,849 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:49:53,850 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 12:49:53,851 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 12:49:53,860 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 12:49:53,889 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 12:49:54,428 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 12:49:54,429 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 12:49:56,175 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 12:49:56,176 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 12:49:56,176 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 12:49:56,176 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 12:49:56,177 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 12:49:56,177 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 12:49:56,178 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 12:49:56,178 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 12:49:56,178 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 12:49:56,785 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 12:49:56,785 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 12:49:56,785 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 12:51:49,365 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:51:49,366 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:51:49,367 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:51:49,367 | WARNING  | handle_message      :182  | ⚠️ User 1201911108 hasn't selected log type yet
2025-09-01 12:51:50,041 | INFO     | async_wrapper       :137  | handle_message executed in 0.676 seconds
2025-09-01 12:51:51,801 | INFO     | sales_command       :102  | 📊 Sales command called by user 1201911108 (Vishesh Sanghvi)
2025-09-01 12:51:51,802 | DEBUG    | sales_command       :105  | 🔧 Set user 1201911108 context to 'Sales' mode
2025-09-01 12:51:53,262 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:51:53,263 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:51:53,264 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 12:51:53,264 | INFO     | handle_message      :186  | 📊 Processing Sales entry for user 1201911108
2025-09-01 12:51:53,265 | DEBUG    | process_input       :67   | 🔍 Processing input: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 12:51:53,266 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-09-01 12:51:53,267 | DEBUG    | handle_message      :226  | 🔄 Attempting strict format parsing for user 1201911108
2025-09-01 12:51:53,267 | WARNING  | handle_message      :252  | ⚠️ Strict format parsing failed for user 1201911108: list index out of range
2025-09-01 12:51:53,660 | INFO     | handle_message      :255  | 🤖 Initiating Gemini AI parsing for user 1201911108 (input pre-validated)
2025-09-01 12:51:53,664 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 12:51:55,533 | INFO     | extract_with_gemini :271  | ✅ Transaction parsed successfully using primary key
2025-09-01 12:51:55,534 | INFO     | handle_message      :278  | ✅ Gemini parsing successful for user 1201911108: {'client': 'apollo', 'location': 'mumbai', 'orders': 5, 'amount': 5000, 'remarks': 'i sold 5 boxes to mumbai client apollo and got 5k', 'type': 'Sales', 'date': datetime.datetime(2025, 9, 1, 12, 51, 55, 534311)}
2025-09-01 12:51:55,536 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai City
2025-09-01 12:51:55,536 | INFO     | handle_message      :305  | 📍 Enhanced entry with GPS location for user 1201911108: Kalbadevi, Mumbai City
2025-09-01 12:51:55,536 | INFO     | handle_message      :315  | 📍 Enhanced entry with live position for user 1201911108: Kalbadevi, Mumbai City
2025-09-01 12:51:55,537 | DEBUG    | handle_message      :319  | 🔍 Validating entry data for user 1201911108: {'client': 'apollo', 'location': 'mumbai (GPS: Kalbadevi, Mumbai City)', 'orders': 5, 'amount': 5000, 'remarks': 'i sold 5 boxes to mumbai client apollo and got 5k', 'type': 'Sales', 'date': datetime.datetime(2025, 9, 1, 12, 51, 55, 534311), 'live_position': 'Kalbadevi, Mumbai City'}
2025-09-01 12:51:55,537 | INFO     | handle_message      :328  | ✅ Entry validation passed for user 1201911108
2025-09-01 12:51:55,538 | INFO     | handle_message      :359  | 💾 Preparing to save entry 21fe5c2a for user 1201911108 to database
2025-09-01 12:51:55,538 | DEBUG    | handle_message      :360  | 📄 Row data: ['21fe5c2a', '01-09-2025', 'Vishesh Sanghvi', 'Sales', 'apollo', 'mumbai (GPS: Kalbadevi, Mumbai City)', 5.0, 5000.0, 'i sold 5 boxes to mumbai client apollo and got 5k', 1201911108, '12:51', 'yugrow', '2025-09-01T12:51:55.537771', '2025-09-01T12:51:55.537771', 'Kalbadevi, Mumbai City']
2025-09-01 12:51:55,538 | INFO     | handle_message      :364  | 🔄 Attempting to save entry 21fe5c2a to company sheet...
2025-09-01 12:51:56,152 | INFO     | append_row_to_company:144  | 📝 Successfully appended row to yugrow sheet: 21fe5c2a
2025-09-01 12:51:56,153 | INFO     | sync_wrapper        :154  | append_row_to_company executed in 0.614 seconds
2025-09-01 12:51:56,153 | INFO     | handle_message      :370  | ✅ Successfully saved entry 21fe5c2a to yugrow sheet
2025-09-01 12:51:56,154 | INFO     | handle_message      :378  | 📤 Sending AI-enhanced confirmation message to user 1201911108 for entry 21fe5c2a
2025-09-01 12:51:56,554 | INFO     | handle_message      :411  | ✅ Entry logged successfully for user 1201911108: 21fe5c2a - Amount: ₹5,000.0
2025-09-01 12:51:56,555 | INFO     | handle_message      :412  | 📊 Transaction summary - User: 1201911108, Type: Sales, Client: apollo, Amount: ₹5,000.0
2025-09-01 12:51:56,556 | INFO     | async_wrapper       :137  | handle_message executed in 3.294 seconds
2025-09-01 12:58:52,086 | INFO     | main                :226  | 🛑 Bot stopped by user
2025-09-01 13:00:02,802 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:00:02,803 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:00:02,803 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:00:02,803 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:00:06,098 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 13:00:06,103 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 13:00:06,103 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 13:00:06,106 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 13:00:06,111 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 13:00:07,636 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 13:00:07,637 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 13:00:09,527 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 13:00:09,980 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 13:00:09,980 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 13:00:10,344 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 13:00:10,903 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 13:00:11,293 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 13:00:11,754 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 13:00:11,762 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 13:00:11,765 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:00:11,766 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:00:11,766 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 13:00:11,770 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 13:00:11,784 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 13:00:12,218 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 13:00:12,219 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 13:00:12,816 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 13:00:12,816 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 13:00:12,816 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 13:00:12,817 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 13:00:12,817 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 13:00:12,817 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 13:00:12,818 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 13:00:12,818 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 13:00:12,818 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 13:00:13,385 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 13:00:13,385 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 13:00:13,386 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 13:01:04,298 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 13:01:04,298 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 13:01:04,299 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 13:01:04,300 | WARNING  | handle_message      :182  | ⚠️ User 1201911108 hasn't selected log type yet
2025-09-01 13:01:05,255 | INFO     | async_wrapper       :137  | handle_message executed in 0.957 seconds
2025-09-01 13:01:06,648 | INFO     | sales_command       :102  | 📊 Sales command called by user 1201911108 (Vishesh Sanghvi)
2025-09-01 13:01:06,649 | DEBUG    | sales_command       :105  | 🔧 Set user 1201911108 context to 'Sales' mode
2025-09-01 13:01:09,177 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 13:01:09,178 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 13:01:09,179 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 13:01:09,179 | INFO     | handle_message      :186  | 📊 Processing Sales entry for user 1201911108
2025-09-01 13:01:09,179 | DEBUG    | process_input       :67   | 🔍 Processing input: 'i sold 5 boxes to mumbai client apollo and got 5k'
2025-09-01 13:01:09,180 | DEBUG    | process_input       :83   | ✅ Input passed validation - ready for AI processing
2025-09-01 13:01:09,181 | DEBUG    | handle_message      :226  | 🔄 Attempting strict format parsing for user 1201911108
2025-09-01 13:01:09,181 | WARNING  | handle_message      :252  | ⚠️ Strict format parsing failed for user 1201911108: list index out of range
2025-09-01 13:01:09,572 | INFO     | handle_message      :255  | 🤖 Initiating Gemini AI parsing for user 1201911108 (input pre-validated)
2025-09-01 13:01:09,573 | INFO     | __init__            :75   | 🛡️ Enhanced Smart Rate Limiter initialized with conservative limits
2025-09-01 13:01:10,854 | INFO     | extract_with_gemini :271  | ✅ Transaction parsed successfully using primary key
2025-09-01 13:01:10,855 | INFO     | handle_message      :278  | ✅ Gemini parsing successful for user 1201911108: {'client': 'apollo', 'location': 'mumbai', 'orders': 5, 'amount': 5000, 'remarks': 'i sold 5 boxes to mumbai client apollo and got 5k', 'type': 'Sales', 'date': datetime.datetime(2025, 9, 1, 13, 1, 10, 855286)}
2025-09-01 13:01:10,857 | DEBUG    | get_location_for_entry:319  | 📍 Location retrieved for entry: Kalbadevi, Mumbai City
2025-09-01 13:01:10,857 | INFO     | handle_message      :298  | 📍 GPS location available for user 1201911108: Kalbadevi, Mumbai City
2025-09-01 13:01:10,858 | INFO     | handle_message      :308  | 📍 Enhanced entry with live position for user 1201911108: Kalbadevi, Mumbai City
2025-09-01 13:01:10,858 | DEBUG    | handle_message      :312  | 🔍 Validating entry data for user 1201911108: {'client': 'apollo', 'location': 'mumbai', 'orders': 5, 'amount': 5000, 'remarks': 'i sold 5 boxes to mumbai client apollo and got 5k', 'type': 'Sales', 'date': datetime.datetime(2025, 9, 1, 13, 1, 10, 855286), 'live_position': 'Kalbadevi, Mumbai City'}
2025-09-01 13:01:10,858 | INFO     | handle_message      :321  | ✅ Entry validation passed for user 1201911108
2025-09-01 13:01:10,859 | INFO     | handle_message      :352  | 💾 Preparing to save entry 25997783 for user 1201911108 to database
2025-09-01 13:01:10,859 | DEBUG    | handle_message      :353  | 📄 Row data: ['25997783', '01-09-2025', 'Vishesh Sanghvi', 'Sales', 'apollo', 'mumbai', 5.0, 5000.0, 'i sold 5 boxes to mumbai client apollo and got 5k', 1201911108, '13:01', 'yugrow', '2025-09-01T13:01:10.859787', '2025-09-01T13:01:10.859787', 'Kalbadevi, Mumbai City']
2025-09-01 13:01:10,859 | INFO     | handle_message      :357  | 🔄 Attempting to save entry 25997783 to company sheet...
2025-09-01 13:01:11,316 | INFO     | append_row_to_company:144  | 📝 Successfully appended row to yugrow sheet: 25997783
2025-09-01 13:01:11,316 | INFO     | sync_wrapper        :154  | append_row_to_company executed in 0.456 seconds
2025-09-01 13:01:11,317 | INFO     | handle_message      :363  | ✅ Successfully saved entry 25997783 to yugrow sheet
2025-09-01 13:01:11,317 | INFO     | handle_message      :371  | 📤 Sending AI-enhanced confirmation message to user 1201911108 for entry 25997783
2025-09-01 13:01:11,752 | INFO     | handle_message      :404  | ✅ Entry logged successfully for user 1201911108: 25997783 - Amount: ₹5,000.0
2025-09-01 13:01:11,752 | INFO     | handle_message      :405  | 📊 Transaction summary - User: 1201911108, Type: Sales, Client: apollo, Amount: ₹5,000.0
2025-09-01 13:01:11,753 | INFO     | async_wrapper       :137  | handle_message executed in 2.576 seconds
2025-09-01 13:03:16,278 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'ok thanks'
2025-09-01 13:03:16,280 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'ok thanks'
2025-09-01 13:03:16,280 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 13:03:16,280 | INFO     | handle_message      :160  | 💬 Responding to casual greeting from user 1201911108
2025-09-01 13:03:16,952 | INFO     | async_wrapper       :137  | handle_message executed in 0.674 seconds
2025-09-01 13:03:20,990 | INFO     | location_command    :28   | 📍 /location command from user 1201911108 (Vishesh)
2025-09-01 13:03:24,167 | INFO     | dashboard_command   :630  | 📊 Dashboard requested by user 1201911108
2025-09-01 13:03:25,973 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 13:03:25,974 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 13:03:25,974 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 13:03:25,975 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 13:03:27,583 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 13:03:27,583 | INFO     | sync_wrapper        :154  | get_company_records executed in 1.608 seconds
2025-09-01 13:03:27,584 | INFO     | sync_wrapper        :154  | get_all_records executed in 1.609 seconds
2025-09-01 13:03:27,594 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 13:03:27,594 | DEBUG    | _clean_and_normalize_data:93   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 13:03:27,595 | DEBUG    | _clean_and_normalize_data:125  | 🧹 Data cleaned: 10 records with 15 columns
2025-09-01 13:03:27,595 | INFO     | load_fresh_data     :82   | ✅ Loaded 10 records for user 1201911108
2025-09-01 13:03:27,596 | INFO     | generate_executive_dashboard:165  | 📊 Generating executive dashboard for user 1201911108...
2025-09-01 13:03:27,986 | ERROR    | dashboard_command   :741  | Dashboard command error: 'amount'
2025-09-01 13:27:51,010 | INFO     | admin_panel_command :283  | 👑 Admin panel accessed by user 1201911108
2025-09-01 13:28:13,484 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 13:28:14,139 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 13:28:14,142 | INFO     | process_chart_generation_parallel:224  | ⚡ Chart generation completed: 3 charts
2025-09-01 13:28:14,493 | ERROR    | charts_command      :477  | Charts command error: object list can't be used in 'await' expression
2025-09-01 13:34:20,049 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:34:20,050 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:34:20,050 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:34:20,050 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:34:23,554 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 13:34:23,559 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 13:34:23,559 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 13:34:23,560 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 13:34:23,562 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 13:34:25,193 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 13:34:25,222 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 13:34:27,654 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 13:34:28,112 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 13:34:28,127 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 13:34:28,541 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 13:34:28,945 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 13:34:29,574 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 13:34:30,066 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 13:34:30,075 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 13:34:30,080 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:34:30,082 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:34:30,082 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 13:34:30,092 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 13:34:30,113 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 13:34:30,609 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 13:34:30,619 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 13:34:32,621 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 13:34:32,621 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 13:34:32,621 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 13:34:32,629 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 13:34:32,629 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 13:34:32,629 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 13:34:32,629 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 13:34:32,629 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 13:34:32,629 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 13:34:33,069 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 13:34:33,069 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 13:34:33,070 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 13:34:46,419 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 13:34:48,731 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 13:34:48,731 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 13:34:48,733 | INFO     | process_chart_generation_parallel:224  | ⚡ Chart generation completed: 3 charts
2025-09-01 13:34:49,076 | ERROR    | charts_command      :477  | Charts command error: object list can't be used in 'await' expression
2025-09-01 13:35:00,767 | INFO     | handle_message      :122  | 📨 Message received from user 1201911108 (Vishesh): 'johnlee'
2025-09-01 13:35:00,768 | DEBUG    | handle_message      :123  | 🔍 Full message content: 'johnlee'
2025-09-01 13:35:00,768 | DEBUG    | handle_message      :124  | 👤 User details: ID=1201911108, Username=None, Name=Vishesh Sanghvi
2025-09-01 13:35:00,769 | INFO     | handle_message      :160  | 💬 Responding to casual greeting from user 1201911108
2025-09-01 13:35:01,431 | INFO     | async_wrapper       :137  | handle_message executed in 0.665 seconds
2025-09-01 13:35:09,633 | INFO     | admin_stats_command :348  | 👑 Admin stats requested by user 1201911108
2025-09-01 13:35:10,160 | INFO     | get_company_records :177  | 📊 Retrieved 8 records from johnlee sheet
2025-09-01 13:35:10,161 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.527 seconds
2025-09-01 13:35:10,166 | INFO     | get_company_stats   :298  | 📈 Stats for johnlee: {'total_records': 8, 'total_users': 1, 'total_revenue': 100700.0, 'date_range': '25-08-2025 to 25-08-2025'}
2025-09-01 13:35:10,699 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 13:35:10,700 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.534 seconds
2025-09-01 13:35:10,701 | INFO     | get_company_stats   :298  | 📈 Stats for yugrow: {'total_records': 10, 'total_users': 1, 'total_revenue': 118500.0, 'date_range': '01-09-2025 to 25-08-2025'}
2025-09-01 13:35:11,209 | INFO     | get_company_records :177  | 📊 Retrieved 0 records from ambica sheet
2025-09-01 13:35:11,210 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.508 seconds
2025-09-01 13:35:11,753 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from baker sheet
2025-09-01 13:35:11,754 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.543 seconds
2025-09-01 13:35:11,756 | INFO     | get_company_stats   :298  | 📈 Stats for baker: {'total_records': 10, 'total_users': 1, 'total_revenue': 113900.0, 'date_range': '25-08-2025 to 25-08-2025'}
2025-09-01 13:35:50,492 | INFO     | predictions_command :339  | 🔮 Predictions command called by user 1201911108
2025-09-01 13:35:51,127 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 13:35:51,127 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 13:35:51,521 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 13:35:51,521 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.393 seconds
2025-09-01 13:35:51,521 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.393 seconds
2025-09-01 13:35:51,522 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 13:35:51,523 | DEBUG    | _clean_and_normalize_data:93   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 13:35:51,523 | DEBUG    | _clean_and_normalize_data:125  | 🧹 Data cleaned: 10 records with 15 columns
2025-09-01 13:35:51,523 | INFO     | load_fresh_data     :82   | ✅ Loaded 10 records for user 1201911108
2025-09-01 13:35:51,523 | INFO     | generate_predictive_insights:629  | 🤖 Generating predictive insights for user 1201911108...
2025-09-01 13:35:51,523 | ERROR    | _identify_growth_opportunities:927  | ❌ Growth opportunity analysis failed: 'location'
2025-09-01 13:35:51,524 | ERROR    | _assess_business_risks:965  | ❌ Risk assessment failed: 'client'
2025-09-01 13:35:51,524 | INFO     | generate_predictive_insights:639  | 🔮 Predictive insights generated
2025-09-01 13:35:51,859 | INFO     | predictions_command :410  | 🔮 AI predictions delivered to user 1201911108
2025-09-01 13:41:33,619 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:41:33,619 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:41:33,620 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:41:33,620 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:41:36,743 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 13:41:36,745 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 13:41:36,746 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 13:41:36,747 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 13:41:36,748 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 13:41:37,786 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 13:41:37,787 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 13:41:39,731 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 13:41:40,282 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 13:41:40,282 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 13:41:40,772 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 13:41:41,293 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 13:41:41,805 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 13:41:42,275 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 13:41:42,279 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 13:41:42,281 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:41:42,282 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:41:42,282 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 13:41:42,283 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 13:41:42,290 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 13:41:42,937 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 13:41:42,938 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 13:41:43,484 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 13:41:43,484 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 13:41:43,485 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 13:41:43,485 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 13:41:43,486 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 13:41:43,487 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 13:41:43,487 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 13:41:43,487 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 13:41:43,487 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 13:41:44,014 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 13:41:44,015 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 13:41:44,015 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 13:42:20,994 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:42:20,994 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:42:20,994 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:42:20,995 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:42:23,760 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 13:42:23,763 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 13:42:23,764 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 13:42:23,765 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 13:42:23,767 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 13:42:24,821 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 13:42:24,822 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 13:42:27,957 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 13:42:28,439 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 13:42:28,441 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 13:42:28,939 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 13:42:29,432 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 13:42:29,955 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 13:42:30,370 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 13:42:30,376 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 13:42:30,378 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:42:30,378 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:42:30,379 | INFO     | cleanup             :236  | ⚡ Parallel processor cleaned up
2025-09-01 13:42:30,381 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 13:42:30,393 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 13:42:30,899 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 13:42:30,899 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 13:42:31,548 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 13:42:31,548 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 13:42:31,549 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 13:42:31,549 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 13:42:31,549 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 13:42:31,549 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 13:42:31,550 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 13:42:31,550 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 13:42:31,550 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 13:42:32,071 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 13:42:32,072 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 13:42:32,072 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 13:42:34,098 | INFO     | predictions_command :339  | 🔮 Predictions command called by user 1201911108
2025-09-01 13:42:35,572 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 13:42:35,572 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 13:42:35,574 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 13:42:36,160 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 13:42:36,160 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.587 seconds
2025-09-01 13:42:36,160 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.587 seconds
2025-09-01 13:42:36,161 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 13:42:36,162 | DEBUG    | _clean_and_normalize_data:93   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 13:42:36,162 | DEBUG    | _clean_and_normalize_data:125  | 🧹 Data cleaned: 10 records with 15 columns
2025-09-01 13:42:36,162 | INFO     | load_fresh_data     :82   | ✅ Loaded 10 records for user 1201911108
2025-09-01 13:42:36,162 | INFO     | generate_predictive_insights:634  | 🤖 Generating predictive insights for user 1201911108...
2025-09-01 13:42:36,173 | INFO     | generate_predictive_insights:644  | 🔮 Predictive insights generated
2025-09-01 13:42:36,508 | INFO     | predictions_command :410  | 🔮 AI predictions delivered to user 1201911108
2025-09-01 13:42:45,256 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 13:42:45,907 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 13:42:45,910 | INFO     | process_chart_generation_parallel:224  | ⚡ Chart generation completed: 3 charts
2025-09-01 13:42:46,252 | ERROR    | charts_command      :478  | Charts command error: object list can't be used in 'await' expression
2025-09-01 13:44:22,821 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:44:22,822 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:44:22,822 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:44:22,822 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:44:25,758 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 13:44:25,759 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 13:44:25,759 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 13:44:25,760 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 13:44:25,761 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 13:44:26,910 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 13:44:26,911 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 13:44:28,746 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 13:44:29,151 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 13:44:29,152 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 13:44:29,708 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 13:44:30,199 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 13:44:30,704 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 13:44:31,264 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 13:44:31,267 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 13:44:31,275 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:44:31,277 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:44:31,278 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 13:44:31,281 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 13:44:31,287 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 13:44:31,786 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 13:44:31,786 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 13:44:32,396 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 13:44:32,396 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 13:44:32,397 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 13:44:32,397 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 13:44:32,397 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 13:44:32,397 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 13:44:32,397 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 13:44:32,398 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 13:44:32,398 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 13:44:32,804 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 13:44:32,804 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 13:44:32,804 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 13:44:37,512 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 13:44:38,738 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 13:44:38,739 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 13:44:38,740 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'revenue_trend', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_revenue_trend_chart_for_user'
2025-09-01 13:44:38,740 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'client_performance', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_client_performance_chart_for_user'
2025-09-01 13:44:38,741 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'location_analysis', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_location_analysis_chart_for_user'
2025-09-01 13:44:38,742 | INFO     | process_chart_generation_parallel:245  | ⚡ Chart generation completed: 0 charts
2025-09-01 13:44:38,742 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 13:44:38,742 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 13:44:39,303 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 13:44:39,305 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.563 seconds
2025-09-01 13:44:39,305 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.563 seconds
2025-09-01 13:44:39,308 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 13:44:39,308 | DEBUG    | _clean_and_normalize_data:93   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 13:44:39,309 | DEBUG    | _clean_and_normalize_data:125  | 🧹 Data cleaned: 10 records with 15 columns
2025-09-01 13:44:39,309 | INFO     | load_fresh_data     :82   | ✅ Loaded 10 records for user 1201911108
2025-09-01 13:44:39,310 | INFO     | generate_advanced_charts:655  | 📊 Generating all charts for user 1201911108...
2025-09-01 13:44:39,959 | INFO     | _create_client_performance_chart:1061 | 👥 Client performance chart created
2025-09-01 13:44:40,335 | INFO     | _create_location_analysis_chart:1102 | 📍 Location analysis chart created
2025-09-01 13:44:40,610 | INFO     | _create_correlation_matrix:1176 | 🔗 Correlation matrix created
2025-09-01 13:44:43,039 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart client_performance.png to user 1201911108
2025-09-01 13:44:44,510 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart location_analysis.png to user 1201911108
2025-09-01 13:44:45,524 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart correlation_matrix.png to user 1201911108
2025-09-01 13:46:35,971 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:46:35,972 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:46:35,972 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:46:35,972 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:46:39,187 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 13:46:39,190 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 13:46:39,191 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 13:46:39,192 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 13:46:39,193 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 13:46:40,239 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 13:46:40,240 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 13:46:42,328 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 13:46:42,827 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 13:46:42,827 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 13:46:43,311 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 13:46:43,674 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 13:46:44,171 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 13:46:44,632 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 13:46:44,637 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 13:46:44,642 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:46:44,643 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:46:44,644 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 13:46:44,651 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 13:46:44,657 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 13:46:45,064 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 13:46:45,065 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 13:46:45,612 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 13:46:45,612 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 13:46:45,613 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 13:46:45,613 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 13:46:45,613 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 13:46:45,614 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 13:46:45,614 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 13:46:45,614 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 13:46:45,614 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 13:46:46,107 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 13:46:46,108 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 13:46:46,108 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 13:46:48,524 | INFO     | location_analytics_command:485  | 📍 Location analytics requested by user 1201911108
2025-09-01 13:46:49,774 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 13:46:49,774 | INFO     | __init__            :35   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 13:46:49,775 | INFO     | load_fresh_data     :50   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 13:46:49,775 | INFO     | load_fresh_data     :58   | 📊 Loading data for company: yugrow
2025-09-01 13:46:50,168 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 13:46:50,169 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.394 seconds
2025-09-01 13:46:50,171 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.396 seconds
2025-09-01 13:46:50,175 | WARNING  | load_fresh_data     :74   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 13:46:50,176 | DEBUG    | _clean_and_normalize_data:93   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 13:46:50,177 | DEBUG    | _clean_and_normalize_data:125  | 🧹 Data cleaned: 10 records with 15 columns
2025-09-01 13:46:50,177 | INFO     | load_fresh_data     :82   | ✅ Loaded 10 records for user 1201911108
2025-09-01 13:46:50,177 | INFO     | generate_location_analytics:224  | 📍 Generating location analytics for user 1201911108...
2025-09-01 13:46:50,177 | WARNING  | _extract_gps_data   :274  | ⚠️ No 'location' column found in data
2025-09-01 13:46:50,180 | ERROR    | _analyze_territory_performance:370  | ❌ Territory performance analysis failed: "Column(s) ['amount', 'client', 'orders'] do not exist"
2025-09-01 13:46:50,181 | ERROR    | _calculate_detailed_location_efficiency:435  | ❌ Location efficiency calculation failed: 'amount'
2025-09-01 13:46:50,182 | INFO     | generate_location_analytics:260  | ✅ Location analytics generated successfully
2025-09-01 13:46:50,613 | INFO     | location_analytics_command:620  | 📍 Enhanced location analytics delivered to user 1201911108
2025-09-01 13:47:15,770 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:47:15,770 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:47:15,770 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:47:15,771 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:47:15,772 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 13:47:15,772 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 13:47:15,773 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 13:47:15,774 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 13:47:18,057 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 13:55:05,064 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:55:05,064 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:55:05,065 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:55:05,065 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:55:05,072 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 5 client patterns
2025-09-01 13:55:05,073 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 5 location patterns
2025-09-01 13:55:05,075 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 13:55:05,076 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 13:55:05,091 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 13:55:05,091 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 13:55:05,093 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 13:55:05,095 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 13:56:00,889 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:56:00,889 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:56:00,889 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:56:00,889 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 13:56:06,098 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 13:56:06,100 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 13:56:06,101 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 13:56:06,102 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 13:56:06,104 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 13:56:07,817 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 13:56:07,819 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 13:56:10,241 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 13:56:10,739 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 13:56:10,739 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 13:56:11,241 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 13:56:11,662 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 13:56:12,163 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 13:56:12,669 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 13:56:12,673 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 13:56:12,675 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:56:12,675 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 13:56:12,676 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 13:56:12,678 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 13:56:12,685 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 13:56:13,193 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 13:56:13,193 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 13:56:13,910 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 13:56:13,910 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 13:56:13,911 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 13:56:13,911 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 13:56:13,912 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 13:56:13,912 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 13:56:13,912 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 13:56:13,912 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 13:56:13,912 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 13:56:14,430 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 13:56:14,431 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 13:56:14,431 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 13:58:56,112 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 13:58:56,112 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 13:58:56,113 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 13:58:56,113 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:00:50,359 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:00:50,377 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:00:50,377 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:00:50,378 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:00:53,617 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:00:53,619 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:00:53,619 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:00:53,620 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:00:53,622 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:00:54,820 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:00:54,822 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:00:57,922 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:00:58,358 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:00:58,358 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:00:58,747 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:00:59,110 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:00:59,567 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:01:00,020 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:01:00,024 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:01:00,027 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:01:00,027 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:01:00,027 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:01:00,039 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:01:00,047 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:01:00,537 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:01:00,537 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:01:01,667 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:01:01,667 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:01:01,667 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:01:01,667 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:01:01,670 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:01:01,671 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:01:01,671 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:01:01,671 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:01:01,671 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:01:02,141 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:01:02,141 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:01:02,141 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:01:08,597 | INFO     | location_analytics_command:485  | 📍 Location analytics requested by user 1201911108
2025-09-01 14:01:11,487 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:01:11,487 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:01:11,487 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:01:11,487 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:01:11,977 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:01:11,977 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.490 seconds
2025-09-01 14:01:11,977 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.490 seconds
2025-09-01 14:01:11,987 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:01:11,987 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:01:11,987 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:01:11,987 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:01:11,987 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:01:11,997 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:01:11,997 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:01:11,997 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:01:11,997 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:01:11,997 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:01:12,002 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:01:12,004 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:01:12,004 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:01:12,005 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:01:12,012 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:01:12,012 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:01:12,012 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:01:12,012 | INFO     | generate_location_analytics:258  | 📍 Generating location analytics for user 1201911108...
2025-09-01 14:01:12,012 | WARNING  | _extract_gps_data   :308  | ⚠️ No 'location' column found in data
2025-09-01 14:01:12,017 | ERROR    | _analyze_territory_performance:404  | ❌ Territory performance analysis failed: "Column(s) ['amount', 'client', 'orders'] do not exist"
2025-09-01 14:01:12,017 | ERROR    | _calculate_detailed_location_efficiency:469  | ❌ Location efficiency calculation failed: 'amount'
2025-09-01 14:01:12,020 | ERROR    | _analyze_location_trends:658  | ❌ Location trends analysis failed: "Column(s) ['amount', 'orders'] do not exist"
2025-09-01 14:01:12,023 | INFO     | generate_location_analytics:294  | ✅ Location analytics generated successfully
2025-09-01 14:01:12,360 | INFO     | location_analytics_command:620  | 📍 Enhanced location analytics delivered to user 1201911108
2025-09-01 14:04:18,910 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:04:18,911 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:04:18,911 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:04:18,911 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:04:21,629 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:04:21,631 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:04:21,632 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:04:21,633 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:04:21,634 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:04:22,751 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:04:22,752 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:04:24,706 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:04:25,157 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:04:25,157 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:04:25,522 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:04:25,902 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:04:26,302 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:04:26,789 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:04:26,794 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:04:26,796 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:04:26,796 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:04:26,796 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:04:26,799 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:04:26,809 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:04:27,212 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:04:27,213 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:04:27,774 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:04:27,774 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:04:27,774 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:04:27,775 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:04:27,775 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:04:27,775 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:04:27,776 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:04:27,776 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:04:27,776 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:04:28,239 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:04:28,240 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:04:28,240 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:04:32,416 | INFO     | analytics_help_command:749  | 📚 Analytics help requested by user 1201911108
2025-09-01 14:04:32,767 | INFO     | analytics_help_command:804  | 📚 AI-enhanced analytics help delivered to user 1201911108
2025-09-01 14:04:45,265 | INFO     | top_performers_command:923  | 🏆 Top performers requested by user 1201911108
2025-09-01 14:04:46,792 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:04:46,792 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:04:46,793 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:04:46,793 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:04:47,530 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:04:47,531 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.738 seconds
2025-09-01 14:04:47,531 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.738 seconds
2025-09-01 14:04:47,533 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:04:47,533 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:04:47,535 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:04:47,536 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:04:47,538 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:04:47,539 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:04:47,540 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:04:47,541 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:04:47,543 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:04:47,543 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:04:47,543 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:04:47,544 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:04:47,544 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:04:47,544 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:04:47,547 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:04:47,548 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:04:47,548 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:04:47,548 | INFO     | generate_executive_dashboard:199  | 📊 Generating executive dashboard for user 1201911108...
2025-09-01 14:04:47,885 | ERROR    | top_performers_command:1011 | Top performers command error: 'amount'
2025-09-01 14:05:12,847 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 14:05:13,491 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 14:05:13,493 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'revenue_trend', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_revenue_trend_chart_for_user'
2025-09-01 14:05:13,495 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'client_performance', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_client_performance_chart_for_user'
2025-09-01 14:05:13,497 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'location_analysis', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_location_analysis_chart_for_user'
2025-09-01 14:05:13,499 | INFO     | process_chart_generation_parallel:245  | ⚡ Chart generation completed: 0 charts
2025-09-01 14:05:13,500 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:05:13,501 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:05:14,106 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:05:14,106 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.604 seconds
2025-09-01 14:05:14,106 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.604 seconds
2025-09-01 14:05:14,106 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:05:14,106 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:05:14,115 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:05:14,115 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:05:14,115 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:05:14,115 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:05:14,115 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:05:14,115 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:05:14,115 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:05:14,115 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:05:14,122 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:05:14,122 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:05:14,123 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:05:14,123 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:05:14,128 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:05:14,129 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:05:14,129 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:05:14,129 | INFO     | generate_advanced_charts:689  | 📊 Generating all charts for user 1201911108...
2025-09-01 14:05:14,385 | ERROR    | _create_revenue_trend_chart:1061 | ❌ Revenue trend chart failed: 'Column not found: amount'
2025-09-01 14:05:15,145 | INFO     | _create_client_performance_chart:1095 | 👥 Client performance chart created
2025-09-01 14:05:15,975 | INFO     | _create_location_analysis_chart:1136 | 📍 Location analysis chart created
2025-09-01 14:05:15,975 | ERROR    | _create_performance_heatmap:1183 | ❌ Performance heatmap failed: 'Column not found: amount'
2025-09-01 14:05:16,725 | INFO     | _create_correlation_matrix:1210 | 🔗 Correlation matrix created
2025-09-01 14:05:19,184 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart client_performance.png to user 1201911108
2025-09-01 14:05:20,582 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart location_analysis.png to user 1201911108
2025-09-01 14:05:22,233 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart correlation_matrix.png to user 1201911108
2025-09-01 14:07:32,735 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:07:32,735 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:07:32,735 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:07:32,737 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:07:32,737 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:07:32,738 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:07:32,739 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:07:32,740 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:07:34,745 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:07:35,188 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:07:35,189 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:07:35,648 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:07:36,103 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:07:36,557 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:07:36,923 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:07:36,948 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:07:36,948 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:07:36,948 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:07:37,414 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:07:37,415 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.466 seconds
2025-09-01 14:07:37,415 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.466 seconds
2025-09-01 14:07:37,417 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:07:37,417 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:07:37,418 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:07:37,418 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:07:37,419 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:07:37,421 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:07:37,423 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:07:37,423 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:07:37,425 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:07:37,425 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:07:37,426 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:07:37,426 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:07:37,426 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:07:37,427 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:07:37,430 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:07:37,430 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:07:37,430 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:12:09,381 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:12:09,381 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:12:09,381 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:12:09,382 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:12:09,383 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:12:09,383 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:12:09,384 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:12:09,385 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:12:11,845 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:12:12,321 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:12:12,322 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:12:12,792 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:12:13,243 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:12:13,605 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:12:13,980 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:12:14,008 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:12:14,008 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:12:14,009 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:12:14,408 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:12:14,409 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.400 seconds
2025-09-01 14:12:14,409 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.400 seconds
2025-09-01 14:12:14,411 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:12:14,412 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:12:14,413 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:12:14,413 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:12:14,414 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:12:14,415 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:12:14,416 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:12:14,416 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:12:14,417 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:12:14,417 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:12:14,418 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:12:14,418 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:12:14,419 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:12:14,419 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:12:14,422 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:12:14,423 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:12:14,423 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:12:14,424 | INFO     | generate_executive_dashboard:199  | 📊 Generating executive dashboard for user 1201911108...
2025-09-01 14:12:14,430 | ERROR    | _calculate_client_retention:769  | ❌ Client retention calculation failed: 'Column not found: client'
2025-09-01 14:12:14,433 | INFO     | generate_executive_dashboard:249  | ✅ Executive dashboard generated successfully
2025-09-01 14:12:53,194 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:12:53,196 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:12:53,196 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:12:53,197 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:12:56,116 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:12:56,118 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:12:56,119 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:12:56,122 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:12:56,124 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:12:57,361 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:12:57,363 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:12:59,624 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:13:00,103 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:13:00,104 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:13:00,541 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:13:00,929 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:13:01,391 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:13:01,775 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:13:01,778 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:13:01,780 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:13:01,782 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:13:01,782 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:13:01,786 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:13:01,798 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:13:02,273 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:13:02,274 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:13:02,846 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:13:02,846 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:13:02,847 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:13:02,847 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:13:02,847 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:13:02,847 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:13:02,848 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:13:02,848 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:13:02,848 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:13:03,224 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:13:03,225 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:13:03,225 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:15:19,236 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 14:15:21,755 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:15:21,755 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 14:15:21,755 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'revenue_trend', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_revenue_trend_chart_for_user'
2025-09-01 14:15:21,755 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'client_performance', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_client_performance_chart_for_user'
2025-09-01 14:15:21,755 | ERROR    | generate_chart      :227  | ⚡ Chart generation error for {'type': 'location_analysis', 'user_id': 1201911108}: 'AdvancedAnalytics' object has no attribute '_create_location_analysis_chart_for_user'
2025-09-01 14:15:21,755 | INFO     | process_chart_generation_parallel:245  | ⚡ Chart generation completed: 0 charts
2025-09-01 14:15:21,755 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:15:21,755 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:15:22,236 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:15:22,236 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.481 seconds
2025-09-01 14:15:22,236 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.481 seconds
2025-09-01 14:15:22,236 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:15:22,252 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:15:22,252 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:15:22,252 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:15:22,252 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:15:22,252 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:15:22,273 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:15:22,273 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:15:22,273 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:15:22,273 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:15:22,273 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:15:22,273 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:15:22,273 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:15:22,273 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:15:22,273 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:15:22,289 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:15:22,289 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:15:22,289 | INFO     | generate_advanced_charts:698  | 📊 Generating all charts for user 1201911108...
2025-09-01 14:15:23,080 | INFO     | _create_revenue_trend_chart:1078 | 📈 Revenue trend chart created
2025-09-01 14:15:23,756 | INFO     | _create_client_performance_chart:1116 | 👥 Client performance chart created
2025-09-01 14:15:24,423 | INFO     | _create_location_analysis_chart:1157 | 📍 Location analysis chart created
2025-09-01 14:15:25,121 | INFO     | _create_performance_heatmap:1205 | 🔥 Performance heatmap created
2025-09-01 14:15:25,707 | INFO     | _create_correlation_matrix:1236 | 🔗 Correlation matrix created
2025-09-01 14:15:28,590 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart revenue_trend.png to user 1201911108
2025-09-01 14:15:28,984 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart client_performance.png to user 1201911108
2025-09-01 14:15:29,355 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart location_analysis.png to user 1201911108
2025-09-01 14:15:30,876 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart performance_heatmap.png to user 1201911108
2025-09-01 14:15:31,273 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart correlation_matrix.png to user 1201911108
2025-09-01 14:22:33,027 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:22:33,029 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:22:33,029 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:22:33,029 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:22:33,029 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:22:33,029 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:22:33,030 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:22:33,032 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:22:35,408 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:22:35,815 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:22:35,816 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:22:36,321 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:22:36,836 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:22:37,212 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:22:37,577 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:22:37,610 | INFO     | __init__            :129  | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:22:37,610 | INFO     | load_fresh_data     :144  | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:22:37,610 | INFO     | load_fresh_data     :152  | 📊 Loading data for company: yugrow
2025-09-01 14:22:38,037 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:22:38,038 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.427 seconds
2025-09-01 14:22:38,039 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.428 seconds
2025-09-01 14:22:38,040 | WARNING  | load_fresh_data     :168  | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:22:38,041 | DEBUG    | _clean_and_normalize_data:187  | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:22:38,042 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:22:38,042 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:22:38,044 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:22:38,045 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:22:38,046 | DEBUG    | _clean_and_normalize_data:203  | ✅ Converted Amount to numeric
2025-09-01 14:22:38,046 | DEBUG    | _clean_and_normalize_data:209  | ✅ Converted Orders to numeric
2025-09-01 14:22:38,046 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Client text column
2025-09-01 14:22:38,047 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Location text column
2025-09-01 14:22:38,047 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Type text column
2025-09-01 14:22:38,048 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Remarks text column
2025-09-01 14:22:38,048 | INFO     | _clean_and_normalize_data:223  | 🧠 Using normalized client names for analytics
2025-09-01 14:22:38,048 | INFO     | _clean_and_normalize_data:227  | 🧠 Using normalized location names for analytics
2025-09-01 14:22:38,051 | INFO     | _clean_and_normalize_data:248  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:22:38,052 | DEBUG    | _clean_and_normalize_data:252  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:22:38,052 | INFO     | load_fresh_data     :176  | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:22:38,052 | INFO     | generate_advanced_charts:791  | 📊 Generating all charts for user 1201911108...
2025-09-01 14:22:38,685 | INFO     | _create_revenue_trend_chart:1212 | 📈 Revenue trend chart created
2025-09-01 14:22:39,423 | INFO     | _create_client_performance_chart:1299 | 👥 Client performance chart created
2025-09-01 14:22:40,031 | INFO     | _create_location_analysis_chart:1377 | 📍 Location analysis chart created
2025-09-01 14:22:41,082 | INFO     | _create_performance_heatmap:1492 | 🔥 Performance heatmap created
2025-09-01 14:22:41,888 | INFO     | _create_correlation_matrix:1559 | 🔗 Correlation matrix created
2025-09-01 14:23:02,259 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:23:02,260 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:23:02,260 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:23:02,260 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:23:04,907 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:23:04,907 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:23:04,907 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:23:04,922 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:23:04,923 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:23:05,929 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:23:05,929 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:23:07,773 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:23:08,157 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:23:08,157 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:23:08,643 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:23:09,034 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:23:09,509 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:23:10,004 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:23:10,010 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:23:10,012 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:23:10,012 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:23:10,013 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:23:10,015 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:23:10,021 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:23:10,529 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:23:10,530 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:23:11,142 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:23:11,143 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:23:11,143 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:23:11,143 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:23:11,145 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:23:11,145 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:23:11,145 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:23:11,145 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:23:11,145 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:23:11,510 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:23:11,510 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:23:11,510 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:23:34,018 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 14:23:35,643 | INFO     | __init__            :129  | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:23:35,644 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 14:23:35,645 | INFO     | load_fresh_data     :144  | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:23:35,646 | INFO     | load_fresh_data     :152  | 📊 Loading data for company: yugrow
2025-09-01 14:23:35,646 | INFO     | load_fresh_data     :144  | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:23:35,648 | INFO     | load_fresh_data     :144  | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:23:35,648 | INFO     | load_fresh_data     :152  | 📊 Loading data for company: yugrow
2025-09-01 14:23:35,649 | INFO     | load_fresh_data     :152  | 📊 Loading data for company: yugrow
2025-09-01 14:23:36,164 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:23:36,165 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.517 seconds
2025-09-01 14:23:36,165 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.517 seconds
2025-09-01 14:23:36,167 | WARNING  | load_fresh_data     :168  | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:23:36,167 | DEBUG    | _clean_and_normalize_data:187  | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:23:36,168 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:23:36,169 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:23:36,170 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:23:36,171 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:23:36,172 | DEBUG    | _clean_and_normalize_data:203  | ✅ Converted Amount to numeric
2025-09-01 14:23:36,173 | DEBUG    | _clean_and_normalize_data:209  | ✅ Converted Orders to numeric
2025-09-01 14:23:36,174 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Client text column
2025-09-01 14:23:36,174 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Location text column
2025-09-01 14:23:36,175 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Type text column
2025-09-01 14:23:36,175 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Remarks text column
2025-09-01 14:23:36,175 | INFO     | _clean_and_normalize_data:223  | 🧠 Using normalized client names for analytics
2025-09-01 14:23:36,176 | INFO     | _clean_and_normalize_data:227  | 🧠 Using normalized location names for analytics
2025-09-01 14:23:36,179 | INFO     | _clean_and_normalize_data:248  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:23:36,179 | DEBUG    | _clean_and_normalize_data:252  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:23:36,179 | INFO     | load_fresh_data     :176  | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:23:36,298 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:23:36,298 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.648 seconds
2025-09-01 14:23:36,299 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.649 seconds
2025-09-01 14:23:36,300 | WARNING  | load_fresh_data     :168  | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:23:36,301 | DEBUG    | _clean_and_normalize_data:187  | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:23:36,301 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:23:36,304 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:23:36,307 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.658 seconds
2025-09-01 14:23:36,308 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:23:36,309 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.659 seconds
2025-09-01 14:23:36,310 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:23:36,311 | WARNING  | load_fresh_data     :168  | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:23:36,312 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:23:36,313 | DEBUG    | _clean_and_normalize_data:187  | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:23:36,313 | DEBUG    | _clean_and_normalize_data:203  | ✅ Converted Amount to numeric
2025-09-01 14:23:36,314 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:23:36,314 | DEBUG    | _clean_and_normalize_data:209  | ✅ Converted Orders to numeric
2025-09-01 14:23:36,315 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:23:36,315 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Client text column
2025-09-01 14:23:36,316 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:23:36,317 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Location text column
2025-09-01 14:23:36,318 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Type text column
2025-09-01 14:23:36,318 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:23:36,319 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Remarks text column
2025-09-01 14:23:36,320 | DEBUG    | _clean_and_normalize_data:203  | ✅ Converted Amount to numeric
2025-09-01 14:23:36,320 | INFO     | _clean_and_normalize_data:223  | 🧠 Using normalized client names for analytics
2025-09-01 14:23:36,321 | DEBUG    | _clean_and_normalize_data:209  | ✅ Converted Orders to numeric
2025-09-01 14:23:36,321 | INFO     | _clean_and_normalize_data:227  | 🧠 Using normalized location names for analytics
2025-09-01 14:23:36,328 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Client text column
2025-09-01 14:23:36,331 | INFO     | _clean_and_normalize_data:248  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:23:36,331 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Location text column
2025-09-01 14:23:36,332 | DEBUG    | _clean_and_normalize_data:252  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:23:36,332 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Type text column
2025-09-01 14:23:36,333 | INFO     | load_fresh_data     :176  | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:23:36,333 | DEBUG    | _clean_and_normalize_data:217  | ✅ Cleaned Remarks text column
2025-09-01 14:23:36,337 | INFO     | _clean_and_normalize_data:223  | 🧠 Using normalized client names for analytics
2025-09-01 14:23:36,339 | INFO     | _clean_and_normalize_data:227  | 🧠 Using normalized location names for analytics
2025-09-01 14:23:36,343 | INFO     | _clean_and_normalize_data:248  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:23:36,345 | DEBUG    | _clean_and_normalize_data:252  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:23:36,369 | INFO     | load_fresh_data     :176  | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:23:36,903 | INFO     | _create_revenue_trend_chart:1212 | 📈 Revenue trend chart created
2025-09-01 14:23:37,038 | INFO     | _create_location_analysis_chart:1377 | 📍 Location analysis chart created
2025-09-01 14:23:37,564 | INFO     | _create_client_performance_chart:1299 | 👥 Client performance chart created
2025-09-01 14:23:37,564 | INFO     | process_chart_generation_parallel:245  | ⚡ Chart generation completed: 3 charts
2025-09-01 14:23:39,308 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart revenue_trend.png to user 1201911108
2025-09-01 14:23:40,700 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart client_performance.png to user 1201911108
2025-09-01 14:23:41,522 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart location_analysis.png to user 1201911108
2025-09-01 14:27:34,912 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:27:34,913 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:27:34,913 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:27:34,914 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:27:34,915 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:27:34,915 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:27:34,915 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:27:34,920 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:27:37,793 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:27:38,360 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:27:38,360 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:27:38,849 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:27:39,367 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:27:39,858 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:27:40,344 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:27:40,397 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:27:40,398 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:27:40,398 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:27:40,895 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:27:40,896 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.498 seconds
2025-09-01 14:27:40,897 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.499 seconds
2025-09-01 14:27:40,904 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:27:40,904 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:27:40,910 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:27:40,910 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 3 location patterns
2025-09-01 14:27:40,912 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:27:40,915 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:27:40,918 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:27:40,918 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:27:40,919 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:27:40,919 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:27:40,920 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:27:40,920 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:27:40,920 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:27:40,921 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:27:40,929 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:27:40,930 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:27:40,930 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:27:40,930 | INFO     | generate_advanced_charts:698  | 📊 Generating all charts for user 1201911108...
2025-09-01 14:27:41,468 | INFO     | _create_revenue_trend_chart:1080 | 📈 Revenue trend chart created
2025-09-01 14:27:41,823 | INFO     | _create_client_performance_chart:1118 | 👥 Client performance chart created
2025-09-01 14:27:42,179 | INFO     | _create_location_analysis_chart:1159 | 📍 Location analysis chart created
2025-09-01 14:27:42,194 | ERROR    | _create_performance_heatmap:1278 | ❌ Performance heatmap failed: name 'add_professional_branding' is not defined
2025-09-01 14:27:42,204 | ERROR    | _create_correlation_matrix:1345 | ❌ Correlation matrix failed: name 'add_professional_branding' is not defined
2025-09-01 14:28:48,285 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:28:48,286 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:28:48,287 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:28:48,287 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:28:48,288 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:28:48,288 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:28:48,288 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:28:48,290 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:28:50,520 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:28:50,993 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:28:50,994 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:28:51,493 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:28:52,023 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:28:52,506 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:28:53,007 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:28:53,033 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:28:53,033 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:28:53,034 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:28:53,581 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:28:53,582 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.549 seconds
2025-09-01 14:28:53,582 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.549 seconds
2025-09-01 14:28:53,584 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:28:53,584 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:28:53,585 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:28:53,587 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:28:53,588 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:28:53,589 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:28:53,590 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:28:53,591 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:28:53,593 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:28:53,593 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:28:53,593 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:28:53,594 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:28:53,594 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:28:53,594 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:28:53,597 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:28:53,598 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:28:53,598 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:28:53,598 | INFO     | generate_advanced_charts:698  | 📊 Generating all charts for user 1201911108...
2025-09-01 14:28:53,986 | INFO     | _create_revenue_trend_chart:1080 | 📈 Revenue trend chart created
2025-09-01 14:28:54,342 | INFO     | _create_client_performance_chart:1118 | 👥 Client performance chart created
2025-09-01 14:28:54,683 | INFO     | _create_location_analysis_chart:1159 | 📍 Location analysis chart created
2025-09-01 14:28:55,099 | INFO     | _create_performance_heatmap:1214 | 🔥 Performance heatmap created
2025-09-01 14:28:55,386 | INFO     | _create_correlation_matrix:1245 | 🔗 Correlation matrix created
2025-09-01 14:29:13,621 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:29:13,622 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:29:13,623 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:29:13,623 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:29:16,451 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:29:16,455 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:29:16,456 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:29:16,459 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:29:16,460 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:29:17,541 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:29:17,542 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:29:19,580 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:29:20,090 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:29:20,122 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:29:20,664 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:29:21,138 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:29:21,625 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:29:22,113 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:29:22,120 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:29:22,123 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:29:22,125 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:29:22,126 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:29:22,131 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:29:22,138 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:29:22,550 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:29:22,550 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:29:23,141 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:29:23,142 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:29:23,142 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:29:23,142 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:29:23,143 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:29:23,143 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:29:23,143 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:29:23,143 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:29:23,143 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:29:23,538 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:29:23,538 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:29:23,539 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:29:26,382 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 14:29:27,725 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:29:27,725 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 14:29:27,726 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:29:27,727 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:29:27,727 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:29:27,727 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:29:27,727 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:29:27,729 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:29:28,252 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:29:28,253 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.526 seconds
2025-09-01 14:29:28,254 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.527 seconds
2025-09-01 14:29:28,255 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:29:28,256 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:29:28,258 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:29:28,258 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:29:28,260 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:29:28,261 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:29:28,263 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:29:28,264 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:29:28,265 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:29:28,266 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:29:28,267 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:29:28,267 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:29:28,268 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:29:28,268 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:29:28,270 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:29:28,271 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:29:28,271 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:29:28,434 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:29:28,435 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.707 seconds
2025-09-01 14:29:28,436 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.708 seconds
2025-09-01 14:29:28,441 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:29:28,442 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:29:28,443 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:29:28,445 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:29:28,446 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:29:28,447 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:29:28,449 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:29:28,450 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.720 seconds
2025-09-01 14:29:28,453 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:29:28,454 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:29:28,454 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.723 seconds
2025-09-01 14:29:28,454 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:29:28,455 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:29:28,456 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:29:28,456 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:29:28,462 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:29:28,462 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:29:28,462 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:29:28,463 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:29:28,466 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:29:28,467 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:29:28,471 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:29:28,471 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:29:28,474 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:29:28,475 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:29:28,476 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:29:28,480 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:29:28,485 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:29:28,486 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:29:28,487 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:29:28,488 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:29:28,489 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:29:28,490 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:29:28,495 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:29:28,513 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:29:28,515 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:29:28,515 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:29:28,784 | INFO     | _create_revenue_trend_chart:1080 | 📈 Revenue trend chart created
2025-09-01 14:29:28,950 | INFO     | _create_location_analysis_chart:1159 | 📍 Location analysis chart created
2025-09-01 14:29:29,000 | INFO     | _create_client_performance_chart:1118 | 👥 Client performance chart created
2025-09-01 14:29:29,002 | INFO     | process_chart_generation_parallel:245  | ⚡ Chart generation completed: 3 charts
2025-09-01 14:29:31,432 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart revenue_trend.png to user 1201911108
2025-09-01 14:29:32,613 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart client_performance.png to user 1201911108
2025-09-01 14:29:33,457 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart location_analysis.png to user 1201911108
2025-09-01 14:31:56,708 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:31:56,708 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:31:56,708 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:31:56,708 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:31:59,386 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:31:59,389 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:31:59,389 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:31:59,390 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:31:59,390 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:32:00,325 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:32:00,326 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:32:02,299 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:32:02,675 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:32:02,676 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:32:03,153 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:32:03,521 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:32:03,879 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:32:04,262 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:32:04,267 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:32:04,270 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:32:04,271 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:32:04,272 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:32:04,276 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:32:04,283 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:32:04,685 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:32:04,686 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:32:05,229 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:32:05,230 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:32:05,230 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:32:05,231 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:32:05,231 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:32:05,231 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:32:05,231 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:32:05,232 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:32:05,232 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:32:05,700 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:32:05,700 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:32:05,701 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:32:27,981 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 14:32:29,467 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:32:29,468 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 14:32:29,469 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:32:29,469 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:32:29,469 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:32:29,470 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:32:29,470 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:32:29,472 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:32:29,946 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:32:29,948 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.477 seconds
2025-09-01 14:32:29,948 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.478 seconds
2025-09-01 14:32:29,951 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:32:29,951 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:32:29,952 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:32:29,953 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:32:29,954 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:32:29,957 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:32:29,959 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:32:29,960 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:32:29,960 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:32:29,961 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:32:29,961 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:32:29,961 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:32:29,962 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:32:29,962 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:32:29,966 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:32:29,966 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:32:29,966 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:32:30,151 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:32:30,152 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.680 seconds
2025-09-01 14:32:30,152 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.680 seconds
2025-09-01 14:32:30,153 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:32:30,153 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:32:30,154 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:32:30,156 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:32:30,159 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:32:30,160 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:32:30,162 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:32:30,163 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:32:30,164 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:32:30,167 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:32:30,167 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:32:30,168 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:32:30,168 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:32:30,171 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:32:30,173 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:32:30,174 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:32:30,175 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:32:30,255 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:32:30,256 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.783 seconds
2025-09-01 14:32:30,265 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.792 seconds
2025-09-01 14:32:30,266 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:32:30,268 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:32:30,269 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:32:30,270 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:32:30,299 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:32:30,301 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:32:30,302 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:32:30,302 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:32:30,303 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:32:30,303 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:32:30,304 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:32:30,305 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:32:30,306 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:32:30,307 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:32:30,314 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:32:30,315 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:32:30,316 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:32:30,427 | INFO     | _create_revenue_trend_chart:1080 | 📈 Revenue trend chart created
2025-09-01 14:32:30,675 | INFO     | _create_client_performance_chart:1118 | 👥 Client performance chart created
2025-09-01 14:32:30,762 | INFO     | _create_location_analysis_chart:1159 | 📍 Location analysis chart created
2025-09-01 14:32:30,762 | INFO     | process_chart_generation_parallel:245  | ⚡ Chart generation completed: 3 charts
2025-09-01 14:32:32,016 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart revenue_trend.png to user 1201911108
2025-09-01 14:32:33,075 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart client_performance.png to user 1201911108
2025-09-01 14:32:34,620 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart location_analysis.png to user 1201911108
2025-09-01 14:38:59,901 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:38:59,901 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:38:59,902 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:38:59,902 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:38:59,903 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:38:59,903 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:38:59,904 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:38:59,905 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:39:02,676 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:39:03,181 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:39:03,182 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:39:03,575 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:39:03,953 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:39:04,367 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:39:04,769 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:39:04,793 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:39:04,794 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:39:04,794 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:39:05,332 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:39:05,333 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.539 seconds
2025-09-01 14:39:05,334 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.540 seconds
2025-09-01 14:39:05,336 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:39:05,337 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:39:05,339 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:39:05,339 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:39:05,340 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:39:05,341 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:39:05,342 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:39:05,342 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:39:05,343 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:39:05,343 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:39:05,344 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:39:05,344 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:39:05,344 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:39:05,344 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:39:05,348 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:39:05,349 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:39:05,349 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:39:05,349 | INFO     | generate_advanced_charts:698  | 📊 Generating 3 professional charts for user 1201911108...
2025-09-01 14:39:05,730 | INFO     | _create_revenue_trend_chart:1084 | 📈 Revenue trend chart created
2025-09-01 14:39:06,075 | INFO     | _create_client_performance_chart:1122 | 👥 Client performance chart created
2025-09-01 14:39:06,414 | INFO     | _create_location_analysis_chart:1189 | 📍 Location analysis chart created
2025-09-01 14:39:06,414 | INFO     | generate_advanced_charts:719  | ✅ Successfully generated 3 charts
2025-09-01 14:39:44,454 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:39:44,454 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:39:44,455 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:39:44,455 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:39:48,048 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:39:48,050 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:39:48,050 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:39:48,051 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:39:48,052 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:39:49,112 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:39:49,112 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:39:51,167 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:39:51,534 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:39:51,534 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:39:52,048 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:39:52,511 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:39:52,900 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:39:53,263 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:39:53,266 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:39:53,268 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:39:53,268 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:39:53,269 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:39:53,271 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:39:53,277 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:39:53,663 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:39:53,664 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:39:54,225 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:39:54,226 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:39:54,226 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:39:54,227 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:39:54,227 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:39:54,227 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:39:54,228 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:39:54,228 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:39:54,228 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:39:54,632 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:39:54,632 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:39:54,632 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:40:43,603 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:40:43,604 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:40:43,604 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:40:43,605 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:40:46,753 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:40:46,756 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:40:46,757 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:40:46,758 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:40:46,760 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:40:47,691 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:40:47,692 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:40:49,710 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:40:50,262 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:40:50,262 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:40:50,767 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:40:51,164 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:40:51,616 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:40:52,147 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:40:52,151 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:40:52,153 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:40:52,154 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:40:52,155 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:40:52,162 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:40:52,172 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:40:52,604 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:40:52,606 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:40:53,123 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:40:53,123 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:40:53,124 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:40:53,124 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:40:53,124 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:40:53,125 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:40:53,125 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:40:53,125 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:40:53,125 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:40:53,632 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:40:53,633 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:40:53,633 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:41:19,332 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:41:19,333 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:41:19,333 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:41:19,333 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:41:36,566 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:41:36,567 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:41:36,567 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:41:36,567 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:41:36,568 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:41:36,568 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:41:36,569 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:41:36,570 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:41:38,705 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:41:39,177 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:41:39,178 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:41:39,691 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:41:40,092 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:41:40,495 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:41:41,010 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:41:41,039 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:41:41,039 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:41:41,040 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:41:41,578 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:41:41,579 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.539 seconds
2025-09-01 14:41:41,580 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.540 seconds
2025-09-01 14:41:41,582 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:41:41,583 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:41:41,585 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:41:41,585 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:41:41,587 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:41:41,587 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:41:41,588 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:41:41,588 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:41:41,589 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:41:41,589 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:41:41,590 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:41:41,590 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:41:41,590 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:41:41,590 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:41:41,595 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:41:41,595 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:41:41,595 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:41:41,596 | INFO     | generate_advanced_charts:698  | 📊 Generating 3 professional charts for user 1201911108...
2025-09-01 14:41:41,965 | INFO     | _create_revenue_trend_chart:1084 | 📈 Revenue trend chart created
2025-09-01 14:41:42,241 | INFO     | _create_client_performance_chart:1122 | 👥 Client performance chart created
2025-09-01 14:41:42,486 | INFO     | _create_location_analysis_chart:1189 | 📍 Location analysis chart created
2025-09-01 14:41:42,486 | INFO     | generate_advanced_charts:719  | ✅ Successfully generated 3 charts
2025-09-01 14:42:26,404 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:42:26,404 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:42:26,404 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:42:26,405 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:42:29,197 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:42:29,199 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:42:29,199 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:42:29,201 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:42:29,203 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:42:30,436 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:42:30,436 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:42:32,377 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:42:32,807 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:42:32,808 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:42:33,334 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:42:33,726 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:42:34,107 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:42:34,589 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:42:34,593 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:42:34,595 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:42:34,597 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:42:34,598 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:42:34,600 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:42:34,606 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:42:35,136 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:42:35,137 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:42:35,656 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:42:35,657 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:42:35,657 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:42:35,657 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:42:35,658 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:42:35,658 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:42:35,659 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:42:35,659 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:42:35,659 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:42:36,101 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:42:36,101 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:42:36,103 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:42:54,270 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 14:42:55,746 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:42:55,746 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 14:42:55,747 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:42:55,748 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:42:55,748 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:42:55,748 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:42:55,749 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:42:55,749 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:42:56,189 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:42:56,190 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.441 seconds
2025-09-01 14:42:56,190 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.441 seconds
2025-09-01 14:42:56,191 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:42:56,192 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:42:56,194 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:42:56,194 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:42:56,195 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:42:56,197 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:42:56,198 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:42:56,198 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:42:56,199 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:42:56,200 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:42:56,201 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:42:56,201 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:42:56,202 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:42:56,202 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:42:56,206 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:42:56,207 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:42:56,207 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:42:56,544 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:42:56,544 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.794 seconds
2025-09-01 14:42:56,544 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.794 seconds
2025-09-01 14:42:56,545 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:42:56,545 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:42:56,546 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:42:56,546 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:42:56,547 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:42:56,548 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:42:56,548 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:42:56,549 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:42:56,549 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:42:56,551 | INFO     | _create_revenue_trend_chart:1084 | 📈 Revenue trend chart created
2025-09-01 14:42:56,552 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:42:56,552 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:42:56,554 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:42:56,554 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:42:56,555 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:42:56,558 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:42:56,559 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:42:56,559 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:42:56,587 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:42:56,598 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.847 seconds
2025-09-01 14:42:56,598 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.847 seconds
2025-09-01 14:42:56,601 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:42:56,601 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:42:56,603 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:42:56,604 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:42:56,606 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:42:56,612 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:42:56,616 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:42:56,624 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:42:56,627 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:42:56,628 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:42:56,629 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:42:56,631 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:42:56,631 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:42:56,633 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:42:56,637 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:42:56,638 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:42:56,638 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:42:56,992 | INFO     | _create_client_performance_chart:1122 | 👥 Client performance chart created
2025-09-01 14:42:57,047 | INFO     | _create_location_analysis_chart:1189 | 📍 Location analysis chart created
2025-09-01 14:42:57,048 | INFO     | process_chart_generation_parallel:245  | ⚡ Chart generation completed: 3 charts
2025-09-01 14:42:59,324 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart revenue_trend.png to user 1201911108
2025-09-01 14:43:00,308 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart client_performance.png to user 1201911108
2025-09-01 14:43:01,628 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart location_analysis.png to user 1201911108
2025-09-01 14:44:05,299 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:44:05,299 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:44:05,299 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:44:05,300 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:44:05,300 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:44:05,301 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:44:05,301 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:44:05,303 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:44:07,564 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:44:08,035 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:44:08,036 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:44:08,435 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:44:08,884 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:44:09,257 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:44:09,626 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:44:09,647 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:44:09,649 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:44:09,649 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:44:10,061 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:44:10,063 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.414 seconds
2025-09-01 14:44:10,063 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.414 seconds
2025-09-01 14:44:10,065 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:44:10,066 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:44:10,067 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:44:10,067 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:44:10,069 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:44:10,069 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:44:10,070 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:44:10,070 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:44:10,071 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:44:10,071 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:44:10,072 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:44:10,072 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:44:10,072 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:44:10,072 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:44:10,075 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:44:10,076 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:44:10,076 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:44:51,380 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:44:51,381 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:44:51,381 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:44:51,381 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:44:51,382 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:44:51,382 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:44:51,383 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:44:51,384 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:44:53,468 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:44:53,994 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:44:53,995 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:44:54,539 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:44:55,046 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:44:55,542 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:44:55,940 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:44:55,964 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:44:55,964 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:44:55,965 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:44:56,369 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:44:56,369 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.404 seconds
2025-09-01 14:44:56,369 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.404 seconds
2025-09-01 14:44:56,370 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:44:56,371 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:44:56,373 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:44:56,373 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:44:56,375 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:44:56,376 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:44:56,377 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:44:56,378 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:44:56,378 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:44:56,379 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:44:56,379 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:44:56,380 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:44:56,380 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:44:56,380 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:44:56,382 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:
✅ No normalizations needed - data already consistent
2025-09-01 14:44:56,384 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:44:56,384 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:44:56,742 | INFO     | _create_client_performance_chart:1139 | 👥 Client performance chart created with 7 clients
2025-09-01 14:44:56,743 | DEBUG    | load_fresh_data     :46   | 📊 Using cached analytics data for user 1201911108
2025-09-01 14:44:56,743 | INFO     | generate_advanced_charts:698  | 📊 Generating 3 professional charts for user 1201911108...
2025-09-01 14:44:57,012 | INFO     | _create_revenue_trend_chart:1084 | 📈 Revenue trend chart created
2025-09-01 14:44:57,296 | INFO     | _create_client_performance_chart:1139 | 👥 Client performance chart created with 7 clients
2025-09-01 14:44:57,602 | INFO     | _create_location_analysis_chart:1206 | 📍 Location analysis chart created
2025-09-01 14:44:57,602 | INFO     | generate_advanced_charts:719  | ✅ Successfully generated 3 charts
2025-09-01 14:45:10,706 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:45:10,706 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:45:10,707 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:45:10,708 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:45:48,068 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:45:48,068 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:45:48,068 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:45:48,068 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:46:03,747 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:46:03,747 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:46:03,747 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:46:03,749 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:46:03,749 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:46:03,749 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:46:03,749 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:46:03,751 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:46:06,700 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:46:07,116 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:46:07,116 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:46:07,616 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:46:08,261 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:46:08,752 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:46:09,152 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:46:09,174 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:46:09,175 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:46:09,176 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:46:09,588 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:46:09,588 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.412 seconds
2025-09-01 14:46:09,589 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.413 seconds
2025-09-01 14:46:09,590 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:46:09,590 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:46:09,592 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:46:09,592 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:46:09,593 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:46:09,594 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:46:09,595 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:46:09,595 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:46:09,596 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:46:09,596 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:46:09,597 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:46:09,597 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:46:09,597 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:46:09,598 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:46:09,602 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:

👥 CLIENT NORMALIZATIONS:
   apollo ← Apollo Pharmacy, apollo pharmacy
   fortis ← fortis hospital
   cipla ← cipla warehouse
   reliance ← reliance medical store

2025-09-01 14:46:09,602 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:46:09,603 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:46:09,603 | INFO     | generate_advanced_charts:698  | 📊 Generating 3 professional charts for user 1201911108...
2025-09-01 14:46:09,929 | INFO     | _create_revenue_trend_chart:1084 | 📈 Revenue trend chart created
2025-09-01 14:46:10,192 | INFO     | _create_client_performance_chart:1139 | 👥 Client performance chart created with 6 clients
2025-09-01 14:46:10,452 | INFO     | _create_location_analysis_chart:1206 | 📍 Location analysis chart created
2025-09-01 14:46:10,453 | INFO     | generate_advanced_charts:719  | ✅ Successfully generated 3 charts
2025-09-01 14:46:22,049 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:46:22,050 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:46:22,050 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:46:22,050 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:46:24,788 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 14:46:24,790 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:46:24,790 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:46:24,791 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 14:46:24,793 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 14:46:25,975 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:46:25,976 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:46:27,920 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:46:28,323 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:46:28,324 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:46:28,774 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:46:29,168 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:46:29,570 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:46:29,962 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:46:29,964 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 14:46:29,967 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:46:29,968 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 14:46:29,968 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 14:46:29,970 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 14:46:29,977 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 14:46:30,396 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 14:46:30,397 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 14:46:31,339 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 14:46:31,339 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 14:46:31,339 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 14:46:31,341 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 14:46:31,341 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 14:46:31,342 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 14:46:31,342 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 14:46:31,343 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 14:46:31,343 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 14:46:31,758 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 14:46:31,759 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 14:46:31,759 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 14:46:34,640 | INFO     | charts_command      :421  | 📊 Charts command called by user 1201911108
2025-09-01 14:46:35,953 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:46:35,954 | INFO     | process_chart_generation_parallel:205  | ⚡ Generating 3 charts in parallel
2025-09-01 14:46:35,954 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:46:35,955 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:46:35,955 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:46:35,957 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:46:35,957 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:46:35,959 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:46:36,419 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:46:36,419 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.462 seconds
2025-09-01 14:46:36,419 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.462 seconds
2025-09-01 14:46:36,421 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:46:36,422 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:46:36,423 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:46:36,424 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:46:36,426 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:46:36,427 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:46:36,428 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:46:36,428 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:46:36,429 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:46:36,430 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:46:36,430 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:46:36,431 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:46:36,431 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:46:36,431 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:46:36,434 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:

👥 CLIENT NORMALIZATIONS:
   apollo ← Apollo Pharmacy, apollo pharmacy
   fortis ← fortis hospital
   cipla ← cipla warehouse
   reliance ← reliance medical store

2025-09-01 14:46:36,435 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:46:36,435 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:46:36,644 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:46:36,645 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.685 seconds
2025-09-01 14:46:36,645 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.685 seconds
2025-09-01 14:46:36,646 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:46:36,646 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:46:36,647 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:46:36,647 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:46:36,648 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:46:36,649 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:46:36,649 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:46:36,649 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:46:36,650 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:46:36,650 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:46:36,651 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:46:36,652 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:46:36,652 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:46:36,652 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:46:36,655 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:

👥 CLIENT NORMALIZATIONS:
   apollo ← Apollo Pharmacy, apollo pharmacy
   fortis ← fortis hospital
   cipla ← cipla warehouse
   reliance ← reliance medical store

2025-09-01 14:46:36,655 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:46:36,655 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:46:36,753 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:46:36,753 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.792 seconds
2025-09-01 14:46:36,754 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.793 seconds
2025-09-01 14:46:36,755 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:46:36,757 | INFO     | _create_revenue_trend_chart:1084 | 📈 Revenue trend chart created
2025-09-01 14:46:36,757 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:46:36,759 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:46:36,759 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:46:36,760 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:46:36,761 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:46:36,764 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:46:36,764 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:46:36,765 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:46:36,765 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:46:36,766 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:46:36,766 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:46:36,767 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:46:36,771 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:46:36,774 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:

👥 CLIENT NORMALIZATIONS:
   apollo ← Apollo Pharmacy, apollo pharmacy
   fortis ← fortis hospital
   cipla ← cipla warehouse
   reliance ← reliance medical store

2025-09-01 14:46:36,775 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:46:36,776 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:46:37,001 | INFO     | _create_client_performance_chart:1139 | 👥 Client performance chart created with 6 clients
2025-09-01 14:46:37,091 | INFO     | _create_location_analysis_chart:1206 | 📍 Location analysis chart created
2025-09-01 14:46:37,097 | INFO     | process_chart_generation_parallel:245  | ⚡ Chart generation completed: 3 charts
2025-09-01 14:46:38,245 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart revenue_trend.png to user 1201911108
2025-09-01 14:46:39,304 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart client_performance.png to user 1201911108
2025-09-01 14:46:40,263 | INFO     | charts_command      :472  | 📈 Sent AI-enhanced chart location_analysis.png to user 1201911108
2025-09-01 14:48:17,268 | INFO     | top_performers_command:923  | 🏆 Top performers requested by user 1201911108
2025-09-01 14:48:18,411 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:48:18,411 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:48:18,411 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:48:18,961 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:48:18,971 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.560 seconds
2025-09-01 14:48:18,971 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.560 seconds
2025-09-01 14:48:18,971 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:48:18,971 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:48:18,977 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:48:18,977 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:48:18,981 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:48:18,981 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:48:18,981 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:48:18,981 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:48:18,981 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:48:18,981 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:48:18,981 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:48:18,981 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:48:18,991 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:48:18,992 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:48:18,992 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:

👥 CLIENT NORMALIZATIONS:
   apollo ← Apollo Pharmacy, apollo pharmacy
   fortis ← fortis hospital
   cipla ← cipla warehouse
   reliance ← reliance medical store

2025-09-01 14:48:19,001 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:48:19,001 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:48:19,001 | INFO     | generate_executive_dashboard:199  | 📊 Generating executive dashboard for user 1201911108...
2025-09-01 14:48:19,027 | INFO     | generate_executive_dashboard:249  | ✅ Executive dashboard generated successfully
2025-09-01 14:48:19,027 | DEBUG    | load_fresh_data     :46   | 📊 Using cached analytics data for user 1201911108
2025-09-01 14:48:19,027 | INFO     | generate_location_analytics:259  | 📍 Generating location analytics for user 1201911108...
2025-09-01 14:48:19,030 | WARNING  | _extract_gps_data   :309  | ⚠️ No 'location' column found in data
2025-09-01 14:48:19,030 | ERROR    | _analyze_territory_performance:405  | ❌ Territory performance analysis failed: "Column(s) ['amount', 'client', 'orders'] do not exist"
2025-09-01 14:48:19,043 | INFO     | generate_location_analytics:295  | ✅ Location analytics generated successfully
2025-09-01 14:48:19,459 | INFO     | top_performers_command:1007 | 🏆 Top performers analysis delivered to user 1201911108
2025-09-01 14:48:33,401 | INFO     | predictions_command :339  | 🔮 Predictions command called by user 1201911108
2025-09-01 14:48:34,261 | DEBUG    | load_fresh_data     :46   | 📊 Using cached analytics data for user 1201911108
2025-09-01 14:48:34,271 | INFO     | generate_predictive_insights:677  | 🤖 Generating predictive insights for user 1201911108...
2025-09-01 14:48:34,281 | ERROR    | _analyze_churn_risk :908  | ❌ Churn analysis failed: 'client'
2025-09-01 14:48:34,304 | INFO     | generate_predictive_insights:687  | 🔮 Predictive insights generated
2025-09-01 14:48:34,710 | INFO     | predictions_command :410  | 🔮 AI predictions delivered to user 1201911108
2025-09-01 14:59:24,637 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 14:59:24,637 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 14:59:24,637 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 14:59:24,638 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 14:59:24,639 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 14:59:24,639 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 14:59:24,639 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 14:59:24,641 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 14:59:26,661 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 14:59:27,116 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 14:59:27,117 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 14:59:27,604 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 14:59:28,057 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 14:59:28,518 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 14:59:28,971 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 14:59:29,019 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 14:59:29,020 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 14:59:29,020 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 14:59:29,486 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 14:59:29,487 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.467 seconds
2025-09-01 14:59:29,487 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.467 seconds
2025-09-01 14:59:29,489 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 14:59:29,489 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 14:59:29,490 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 14:59:29,491 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 14:59:29,492 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 14:59:29,494 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 14:59:29,495 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 14:59:29,495 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 14:59:29,496 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 14:59:29,496 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 14:59:29,497 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 14:59:29,497 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 14:59:29,497 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 14:59:29,497 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 14:59:29,501 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:

👥 CLIENT NORMALIZATIONS:
   apollo ← Apollo Pharmacy, apollo pharmacy
   fortis ← fortis hospital
   cipla ← cipla warehouse
   reliance ← reliance medical store

2025-09-01 14:59:29,502 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 14:59:29,503 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 14:59:29,504 | INFO     | generate_location_analytics:259  | 📍 Generating location analytics for user 1201911108...
2025-09-01 14:59:29,506 | DEBUG    | _extract_gps_data   :343  | 📍 GPS extraction: 0 entries with GPS out of 10
2025-09-01 14:59:29,524 | INFO     | generate_location_analytics:295  | ✅ Location analytics generated successfully
2025-09-01 14:59:29,524 | DEBUG    | load_fresh_data     :46   | 📊 Using cached analytics data for user 1201911108
2025-09-01 14:59:29,525 | INFO     | generate_predictive_insights:701  | 🤖 Generating predictive insights for user 1201911108...
2025-09-01 14:59:29,533 | INFO     | generate_predictive_insights:711  | 🔮 Predictive insights generated
2025-09-01 15:01:49,089 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 15:01:49,089 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 15:01:49,090 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 15:01:49,090 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 15:01:52,069 | INFO     | <module>            :12   | ✅ Legacy sheets.py connected to Google Sheets
2025-09-01 15:01:52,072 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 15:01:52,072 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 15:01:52,074 | INFO     | __init__            :69   | 🤖 AI Response Engine initialized
2025-09-01 15:01:52,075 | DEBUG    | __init__            :54   | 🧠 InputProcessor initialized with unified validation and fallback
2025-09-01 15:01:53,175 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 15:01:53,175 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 15:01:55,056 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 15:01:55,488 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 15:01:55,489 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 15:01:55,977 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 15:01:56,424 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 15:01:56,873 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 15:01:57,327 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 15:01:57,334 | INFO     | __init__            :27   | 📦 Batch Handler initialized
2025-09-01 15:01:57,340 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 15:01:57,342 | INFO     | __init__            :25   | ⚡ Parallel Processor initialized with 4 workers
2025-09-01 15:01:57,343 | INFO     | cleanup             :257  | ⚡ Parallel processor cleaned up
2025-09-01 15:01:57,349 | INFO     | __init__            :28   | 📍 Live Position Handler initialized
2025-09-01 15:01:57,358 | INFO     | check_system_health :82   | 🔍 Performing system health checks...
2025-09-01 15:01:57,815 | WARNING  | check_system_health :102  | ⚠️ Required file missing: yugrow-dd1d5-010a6b203565.json
2025-09-01 15:01:57,817 | INFO     | check_system_health :104  | ✅ System health check completed
2025-09-01 15:01:58,419 | INFO     | main                :200  | ⏰ Scheduler initialized successfully
2025-09-01 15:01:58,419 | INFO     | main                :205  | 🤖 Performance Tracker Bot is starting...
2025-09-01 15:01:58,419 | INFO     | main                :206  | 📊 Features enabled: Entry logging, AI parsing, Interactive menus, Error handling, Multi-Company Support
2025-09-01 15:01:58,419 | INFO     | main                :207  | 🔗 Bot token configured: 7977627451...mnzM
2025-09-01 15:01:58,420 | INFO     | main                :208  | 🔗 Bot is running and ready to accept commands!
2025-09-01 15:01:58,420 | DEBUG    | main                :211  | 🔧 System Configuration:
2025-09-01 15:01:58,420 | DEBUG    | main                :212  |    📁 Data directory: data
2025-09-01 15:01:58,420 | DEBUG    | main                :213  |    🗂️ Log files: bot.log
2025-09-01 15:01:58,420 | DEBUG    | main                :214  |    🤖 AI Model: Gemini 2.5 Flash
2025-09-01 15:01:58,793 | DEBUG    | main                :215  |    📊 Google Sheets: Enabled
2025-09-01 15:01:58,794 | DEBUG    | main                :216  |    🏢 Multi-Company: Enabled (JohnLee, Yugrow Pharmacy, Ambica Pharma, Baker & Davis)
2025-09-01 15:01:58,794 | INFO     | main                :219  | 🔄 Starting bot polling...
2025-09-01 15:02:02,288 | INFO     | predictions_command :339  | 🔮 Predictions command called by user 1201911108
2025-09-01 15:02:03,517 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 15:02:03,518 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 15:02:03,518 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 15:02:03,934 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 15:02:03,935 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.416 seconds
2025-09-01 15:02:03,936 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.417 seconds
2025-09-01 15:02:03,937 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 15:02:03,938 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 15:02:03,939 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 15:02:03,940 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 15:02:03,943 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 15:02:03,944 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 15:02:03,946 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 15:02:03,946 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 15:02:03,947 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 15:02:03,947 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 15:02:03,947 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 15:02:03,948 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 15:02:03,948 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 15:02:03,948 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 15:02:03,951 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:

👥 CLIENT NORMALIZATIONS:
   apollo ← Apollo Pharmacy, apollo pharmacy
   fortis ← fortis hospital
   cipla ← cipla warehouse
   reliance ← reliance medical store

2025-09-01 15:02:03,952 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 15:02:03,952 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 15:02:03,952 | INFO     | generate_predictive_insights:701  | 🤖 Generating predictive insights for user 1201911108...
2025-09-01 15:02:03,959 | INFO     | generate_predictive_insights:711  | 🔮 Predictive insights generated
2025-09-01 15:02:04,301 | INFO     | predictions_command :410  | 🔮 AI predictions delivered to user 1201911108
2025-09-01 15:08:20,311 | INFO     | <module>            :47   | 🚀 [STARTUP] Logging system initialized - Single log file approach
2025-09-01 15:08:20,311 | INFO     | <module>            :48   | 📁 [CONFIG] Log file location: data\bot.log
2025-09-01 15:08:20,312 | INFO     | <module>            :49   | 📊 [CONFIG] All log levels (DEBUG/INFO/WARNING/ERROR) go to single file
2025-09-01 15:08:20,312 | DEBUG    | <module>            :50   | 🔧 [DEBUG] Debug logging is active
2025-09-01 15:08:20,312 | INFO     | _load_user_mappings :68   | 📂 Loaded 1 user mappings
2025-09-01 15:08:20,313 | INFO     | __init__            :60   | 🏢 Company Manager initialized
2025-09-01 15:08:20,313 | INFO     | __init__            :21   | 🔄 Initializing multi-company Google Sheets connection...
2025-09-01 15:08:20,315 | INFO     | __init__            :30   | ✅ Google Sheets credentials loaded
2025-09-01 15:08:22,957 | INFO     | __init__            :48   | ✅ Connected to Google Sheets
2025-09-01 15:08:23,416 | INFO     | _initialize_company_sheets:77   | 📋 Existing sheets: ['Sheet1', 'JohnLee_Data', 'Yugrow_Data', 'Ambica_Data', 'Baker_Data']
2025-09-01 15:08:23,418 | INFO     | _initialize_company_sheets:96   | ✅ Sheet JohnLee_Data already exists
2025-09-01 15:08:23,781 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Yugrow_Data already exists
2025-09-01 15:08:24,230 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Ambica_Data already exists
2025-09-01 15:08:24,660 | INFO     | _initialize_company_sheets:96   | ✅ Sheet Baker_Data already exists
2025-09-01 15:08:25,123 | INFO     | __init__            :61   | 📊 Multi-Company Sheet Manager initialized successfully
2025-09-01 15:08:25,148 | INFO     | __init__            :36   | 🔥 Advanced Analytics Engine initialized with multi-user support
2025-09-01 15:08:25,148 | INFO     | load_fresh_data     :51   | 🔄 Fetching fresh data for user 1201911108...
2025-09-01 15:08:25,149 | INFO     | load_fresh_data     :59   | 📊 Loading data for company: yugrow
2025-09-01 15:08:25,576 | INFO     | get_company_records :177  | 📊 Retrieved 10 records from yugrow sheet
2025-09-01 15:08:25,577 | INFO     | sync_wrapper        :154  | get_company_records executed in 0.428 seconds
2025-09-01 15:08:25,578 | INFO     | sync_wrapper        :154  | get_all_records executed in 0.429 seconds
2025-09-01 15:08:25,579 | WARNING  | load_fresh_data     :75   | ⚠️ No user_id column found - showing all data (PRIVACY RISK!)
2025-09-01 15:08:25,579 | DEBUG    | _clean_and_normalize_data:94   | 🔍 Available columns: ['Entry ID', 'Date', 'User Name', 'Type', 'Client', 'Location', 'Orders', 'Amount', 'Remarks', 'User ID', 'Time', 'Company', 'Entry Timestamp', 'Last Modified', 'Live_Position']
2025-09-01 15:08:25,581 | INFO     | auto_learn_patterns :162  | 🧠 Auto-learned 2 client patterns
2025-09-01 15:08:25,582 | INFO     | auto_learn_patterns :164  | 🧠 Auto-learned 2 location patterns
2025-09-01 15:08:25,584 | INFO     | normalize_dataframe :192  | ✅ Normalized Client column
2025-09-01 15:08:25,585 | INFO     | normalize_dataframe :198  | ✅ Normalized Location column
2025-09-01 15:08:25,586 | DEBUG    | _clean_and_normalize_data:110  | ✅ Converted Amount to numeric
2025-09-01 15:08:25,586 | DEBUG    | _clean_and_normalize_data:116  | ✅ Converted Orders to numeric
2025-09-01 15:08:25,586 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Client text column
2025-09-01 15:08:25,587 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Location text column
2025-09-01 15:08:25,587 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Type text column
2025-09-01 15:08:25,588 | DEBUG    | _clean_and_normalize_data:124  | ✅ Cleaned Remarks text column
2025-09-01 15:08:25,588 | INFO     | _clean_and_normalize_data:130  | 🧠 Using normalized client names for analytics
2025-09-01 15:08:25,588 | INFO     | _clean_and_normalize_data:134  | 🧠 Using normalized location names for analytics
2025-09-01 15:08:25,592 | INFO     | _clean_and_normalize_data:155  | 🧠 Smart normalization completed:
🧠 SMART NORMALIZATION APPLIED:

👥 CLIENT NORMALIZATIONS:
   apollo ← Apollo Pharmacy, apollo pharmacy
   fortis ← fortis hospital
   cipla ← cipla warehouse
   reliance ← reliance medical store

2025-09-01 15:08:25,593 | DEBUG    | _clean_and_normalize_data:159  | 🧹 Data cleaned: 10 records with 22 columns
2025-09-01 15:08:25,593 | INFO     | load_fresh_data     :83   | ✅ Loaded 10 records for user 1201911108
2025-09-01 15:08:25,594 | INFO     | generate_advanced_charts:722  | 📊 Generating 3 professional charts for user 1201911108...
2025-09-01 15:08:25,964 | INFO     | _create_revenue_trend_chart:1114 | 📈 Revenue trend chart created
2025-09-01 15:08:26,232 | INFO     | _create_client_performance_chart:1169 | 👥 Client performance chart created with 6 clients
2025-09-01 15:08:26,468 | INFO     | _create_location_analysis_chart:1236 | 📍 Location analysis chart created
2025-09-01 15:08:26,468 | INFO     | generate_advanced_charts:743  | ✅ Successfully generated 3 charts
